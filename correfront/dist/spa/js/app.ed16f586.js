(()=>{"use strict";var e={9911:(e,t,o)=>{o(5363),o(71);var a=o(8880),l=o(9592),i=o(3673);function s(e,t,o,a,l,s){const n=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(n)}const n=(0,i.aZ)({name:"App"});n.render=s;const r=n;var d=o(214),c=o(7083),u=o(9582);const m={class:"row"},p=(0,i._)("div",{class:"col-12 col-md-2"},null,-1),h={class:"col-12 col-md-8"},f=(0,i._)("div",{class:"text-h6"},"Ingresar al Sistema ",-1),w=(0,i.Uk)(" Por favor colocar email y contraseña "),g={class:"row"},b={class:"col-12"},_={class:"col-12 q-pt-md"},v={class:"col-12 q-py-md"},x=(0,i._)("div",{class:"text-caption q-py-xs"},[(0,i._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone=59172354689&text=olvide mi contraseña"},"Olvidate tu contraseña?")],-1),W=(0,i._)("div",{class:"col-12 col-md-2"},null,-1);function q(e,t,o,l,s,n){const r=(0,i.up)("q-tab"),d=(0,i.up)("q-tabs"),c=(0,i.up)("q-separator"),u=(0,i.up)("q-icon"),q=(0,i.up)("q-input"),k=(0,i.up)("q-btn"),y=(0,i.up)("q-form"),V=(0,i.up)("q-tab-panel"),D=(0,i.up)("q-tab-panels"),S=(0,i.up)("q-card"),U=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(U,{class:"q-pa-md"},{default:(0,i.w5)((()=>[(0,i._)("div",m,[p,(0,i._)("div",h,[(0,i.Wm)(S,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{modelValue:s.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>s.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{name:"login",label:"Ingresar"})])),_:1},8,["modelValue"]),(0,i.Wm)(c),(0,i.Wm)(D,{modelValue:s.tab,"onUpdate:modelValue":t[4]||(t[4]=e=>s.tab=e),animated:""},{default:(0,i.w5)((()=>[(0,i.Wm)(V,{name:"login"},{default:(0,i.w5)((()=>[f,w,(0,i.Wm)(y,{onSubmit:(0,a.iM)(n.login,["prevent"])},{default:(0,i.w5)((()=>[(0,i._)("div",g,[(0,i._)("div",b,[(0,i.Wm)(q,{type:"email",outlined:"",modelValue:s.email,"onUpdate:modelValue":t[1]||(t[1]=e=>s.email=e),label:"Email*",hint:"Porfavor ingresar email",rules:s.rule},{prepend:(0,i.w5)((()=>[(0,i.Wm)(u,{name:"email"})])),_:1},8,["modelValue","rules"])]),(0,i._)("div",_,[(0,i.Wm)(q,{outlined:"",modelValue:s.password,"onUpdate:modelValue":t[3]||(t[3]=e=>s.password=e),label:"password*",type:s.isPwd?"password":"text",hint:"Porfavor ingresar password",rules:s.rule},{prepend:(0,i.w5)((()=>[(0,i.Wm)(u,{name:"lock"})])),append:(0,i.w5)((()=>[(0,i.Wm)(u,{name:s.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[2]||(t[2]=e=>s.isPwd=!s.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","rules"])]),(0,i._)("div",v,[(0,i.Wm)(k,{label:"INGRESAR",color:"primary",icon:"login",class:"full-width",type:"submit"}),x])])])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])])),_:1})]),W])])),_:1})}const k={data(){return{rule:[e=>e&&e.length>0||"Porfavor ingresar dato"],email:"",password:"",tab:"login",user:{},isPwd:!0,units:[],units2:[]}},created(){this.$store.getters["login/isLoggedIn"]&&this.$router.push("/asignacion/todo"),this.$q.loading.show(),this.$axios.get("https://back.gamo.cf/api/unit").then((e=>{this.units=e.data,this.units2=e.data,this.$q.loading.hide()}))},methods:{filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.units=this.units2.filter((e=>e.nombre.toLowerCase().indexOf(t)>-1))}:()=>{this.units=this.units2})},registrar(){if(""==this.user.unit||void 0==this.user.unit)return this.$q.notify({message:"Debes seleccionar unidad",color:"red",icon:"error"}),!1;this.$q.loading.show(),this.user.unit_id=this.user.unit.id,this.$store.dispatch("login/register",this.user).then((()=>{this.$q.loading.hide(),this.$router.push("/asignacion/todo")})).catch((e=>{this.$q.loading.hide();let t="";Object.entries(e.response.data.errors).forEach((([e,o])=>{t+=` ${e}: ${o},`})),this.$q.notify({message:t,color:"red",icon:"error"})}))},login(){this.$q.loading.show(),this.$store.dispatch("login/login",{email:this.email,password:this.password}).then((()=>{this.$q.loading.hide(),this.$router.push("/asignacion/todo")})).catch((e=>{this.$q.loading.hide(),console.log(e.response.data.res),this.$q.notify({message:e.response.data.res,color:"red",icon:"error"})}))}}};var y=o(4379),V=o(151),D=o(7547),S=o(3269),U=o(5869),C=o(5906),Z=o(6602),$=o(8689),R=o(4842),O=o(4554),E=o(2165),z=o(3314),I=o(7518),Q=o.n(I);k.render=q;const A=k;Q()(k,"components",{QPage:y.Z,QCard:V.Z,QTabs:D.Z,QTab:S.Z,QSeparator:U.Z,QTabPanels:C.Z,QTabPanel:Z.Z,QForm:$.Z,QInput:R.Z,QIcon:O.Z,QBtn:E.Z,QSelect:z.Z});var F=o(2323);const P={class:"row"},T={class:"col-12"},M={class:"row",style:{border:"1px solid rgba(128,128,128,0.50)"}},Y={class:"col-6 flex flex-center"},j={class:"col-6 flex flex-center"},N={class:"col-sm-2 col-12 q-pa-xs"},L={class:"col-sm-6 col-12 q-pa-xs"},H={id:"browsers"},B={class:"col-sm-2 col-12 q-pa-xs"},J={class:"col-sm-2 col-12 q-pa-xs"},K={class:"col-sm-2 col-12 q-pa-xs"},G={class:"col-sm-2 col-12 q-pa-xs"},X={class:"col-sm-2 col-12 q-pa-xs"},ee={class:"col-sm-2 col-12 q-pa-xs flex flex-center"},te={class:"col-12"},oe={style:{"font-size":"0.6em",padding:"0px",margin:"0px",border:"0px","list-style":"none"}},ae={class:"text-h6"},le=(0,i.Uk)(" Sin resultados "),ie={class:"text-h6"};function se(e,t,o,l,s,n){const r=(0,i.up)("q-radio"),d=(0,i.up)("q-input"),c=(0,i.up)("q-select"),u=(0,i.up)("q-btn"),m=(0,i.up)("q-form"),p=(0,i.up)("q-icon"),h=(0,i.up)("q-td"),f=(0,i.up)("q-badge"),w=(0,i.up)("q-btn-group"),g=(0,i.up)("q-tr"),b=(0,i.up)("q-table"),_=(0,i.up)("q-card-section"),v=(0,i.up)("q-item-section"),x=(0,i.up)("q-item"),W=(0,i.up)("q-card"),q=(0,i.up)("q-dialog"),k=(0,i.up)("q-uploader"),y=(0,i.up)("q-page"),V=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(y,{class:"q-pa-xs"},{default:(0,i.w5)((()=>[(0,i._)("div",P,[(0,i._)("div",T,[(0,i.Wm)(m,{onSubmit:(0,a.iM)(n.guardar,["prevent"])},{default:(0,i.w5)((()=>[(0,i._)("div",M,[(0,i._)("div",Y,[(0,i.Wm)(r,{dense:"",modelValue:s.dato.tipo,"onUpdate:modelValue":t[0]||(t[0]=e=>s.dato.tipo=e),val:"INTERNO",label:"INTERNO"},null,8,["modelValue"])]),(0,i._)("div",j,[(0,i.Wm)(r,{dense:"",modelValue:s.dato.tipo,"onUpdate:modelValue":t[1]||(t[1]=e=>s.dato.tipo=e),val:"EXTERNO",label:"EXTERNO"},null,8,["modelValue"])]),(0,i._)("div",N,[(0,i.Wm)(d,{style:{"text-transform":"uppercase"},dense:"",autofocus:"",label:"Referencia",modelValue:s.dato.ref,"onUpdate:modelValue":t[2]||(t[2]=e=>s.dato.ref=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",L,[(0,i.Wm)(d,{onKeyup:n.cambio,style:{"text-transform":"uppercase"},outlined:"",dense:"",label:"remitente",list:"browsers",name:"myBrowser",modelValue:s.remitente,"onUpdate:modelValue":t[3]||(t[3]=e=>s.remitente=e)},null,8,["onKeyup","modelValue"]),(0,i._)("datalist",H,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.remitentes,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.id},(0,F.zw)(e.remitente),1)))),128))])]),(0,i._)("div",B,[(0,i.Wm)(d,{style:{"text-transform":"uppercase"},dense:"",label:"Cargo",modelValue:s.cargo,"onUpdate:modelValue":t[4]||(t[4]=e=>s.cargo=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",J,[(0,i.Wm)(d,{style:{"text-transform":"uppercase"},dense:"",label:"Institucion",modelValue:s.institucion,"onUpdate:modelValue":t[5]||(t[5]=e=>s.institucion=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",K,[(0,i.Wm)(d,{dense:"",label:"Fecha de correspondencia",modelValue:s.dato.fecha,"onUpdate:modelValue":t[6]||(t[6]=e=>s.dato.fecha=e),type:"date",outlined:""},null,8,["modelValue"])]),(0,i._)("div",G,[(0,i.Wm)(c,{dense:"",label:"Fojas",modelValue:s.dato.folio,"onUpdate:modelValue":t[7]||(t[7]=e=>s.dato.folio=e),options:s.folios,outlined:""},null,8,["modelValue","options"])]),(0,i._)("div",X,[(0,i.Wm)(d,{dense:"",label:"Cod externo",modelValue:s.dato.codexterno,"onUpdate:modelValue":t[8]||(t[8]=e=>s.dato.codexterno=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",ee,[void 0==s.dato.id||""==s.dato.id?((0,i.wg)(),(0,i.j4)(u,{key:0,type:"submit",color:"primary",icon:"add_circle",label:"Registrar"})):((0,i.wg)(),(0,i.j4)(u,{key:1,type:"submit",color:"amber",icon:"edit",label:"Modificar"}))])])])),_:1},8,["onSubmit"])]),(0,i._)("div",te,[(0,i.Wm)(b,{dense:"",title:"Correspondencia de unidad",rows:s.mails,columns:s.columns,filter:s.filter,"rows-per-page-options":[50,100,150,200,0]},{"top-right":(0,i.w5)((()=>[(0,i.Wm)(d,{borderless:"",dense:"",debounce:"300",modelValue:s.filter,"onUpdate:modelValue":t[9]||(t[9]=e=>s.filter=e),placeholder:"Buscar"},{append:(0,i.w5)((()=>[(0,i.Wm)(p,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,i.w5)((e=>[(0,i.Wm)(g,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{key:"codigo",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.codigo),1)])),_:2},1032,["props"]),(0,i.Wm)(h,{key:"codexterno",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.codexterno),1)])),_:2},1032,["props"]),(0,i.Wm)(h,{key:"codinterno",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.codinterno),1)])),_:2},1032,["props"]),(0,i.Wm)(h,{key:"ref",props:e},{default:(0,i.w5)((()=>[""!=e.row.ref?((0,i.wg)(),(0,i.j4)(f,{key:0,color:"info",onClick:t=>n.mostrar(e.row.ref)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.ref.substring(0,10))+"... ",1)])),_:2},1032,["onClick"])):(0,i.kq)("",!0)])),_:2},1032,["props"]),(0,i.Wm)(h,{key:"remitente",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.remitente),1)])),_:2},1032,["props"]),(0,i.Wm)(h,{key:"logs",props:e},{default:(0,i.w5)((()=>[(0,i._)("ul",oe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.row.logs,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.id},"de "+(0,F.zw)(e.remitente)+" a "+(0,F.zw)(e.destinatario),1)))),128))])])),_:2},1032,["props"]),(0,i.Wm)(h,{key:"dias",props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{color:0==e.row.dias?"positive":1==e.row.dias?"amber":"negative"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.dias)+" d ",1)])),_:2},1032,["color"])])),_:2},1032,["props"]),(0,i.Wm)(h,{key:"folio",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.folio),1)])),_:2},1032,["props"]),(0,i.Wm)(h,{key:"archivo",props:e},{default:(0,i.w5)((()=>[""!=e.row.archivo?((0,i.wg)(),(0,i.j4)(u,{key:0,label:"Descargar",color:"primary",size:"xs",type:"a",href:s.url+"/../imagenes/"+e.row.archivo,target:"__blank"},null,8,["href"])):(0,i.kq)("",!0)])),_:2},1032,["props"]),(0,i.Wm)(h,{key:"opciones",props:e},{default:(0,i.w5)((()=>["ARCHIVADO"!=e.row.estado&&"ANULADO"!=e.row.estado?((0,i.wg)(),(0,i.j4)(w,{key:0},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{dense:"",onClick:t=>n.impresion(e.row.id),color:"primary",label:"ImprimirHR",icon:"timeline",size:"xs"},null,8,["onClick"]),(0,i.Wm)(u,{dense:"",onClick:t=>n.editar(e),color:"teal",label:"Editar",icon:"edit",size:"xs"},null,8,["onClick"]),(0,i.Wm)(u,{dense:"",onClick:t=>{s.diaglosasignacion=!0,s.mail=e.row,s.miaccion="",s.usuario="",s.dest=[]},color:"positive",label:"Remitir",icon:"code",size:"xs"},null,8,["onClick"]),(0,i.Wm)(u,{dense:"",onClick:t=>n.archivar(e.row),color:"accent",label:"Terminar",icon:"list",size:"xs"},null,8,["onClick"]),(0,i.Wm)(u,{dense:"",onClick:t=>n.archivo(e.row),color:"amber",label:"Subir ",icon:"upload",size:"xs"},null,8,["onClick"])])),_:2},1024)):(0,i.kq)("",!0)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,i.Wm)(q,{modelValue:s.diaglosasignacion,"onUpdate:modelValue":t[12]||(t[12]=e=>s.diaglosasignacion=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{style:{width:"700px","min-width":"80vh"}},{default:(0,i.w5)((()=>[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i._)("div",ae,[(0,i.Wm)(p,{name:"code"}),(0,i.Uk)(" "+(0,F.zw)(s.mail.ref)+" Remitir",1)])])),_:1}),(0,i.Wm)(_,{class:"q-pt-none"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{onSubmit:(0,a.iM)(n.registrarlog,["prevent"])},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{type:"textarea",outlined:"",label:"Mi acccion",modelValue:s.miaccion,"onUpdate:modelValue":t[10]||(t[10]=e=>s.miaccion=e),required:""},null,8,["modelValue"]),(0,i.Wm)(c,{"use-input":"",options:s.usuarios,label:"Seleccionar personal",modelValue:s.usuario,"onUpdate:modelValue":t[11]||(t[11]=e=>s.usuario=e),onFilter:n.filterFn,outlined:""},{"no-option":(0,i.w5)((()=>[(0,i.Wm)(x,null,{default:(0,i.w5)((()=>[(0,i.Wm)(v,{class:"text-grey"},{default:(0,i.w5)((()=>[le])),_:1})])),_:1})])),_:1},8,["options","modelValue","onFilter"]),(0,i.Wm)(u,{color:"secondary",label:"Agregar Dest",onClick:n.tabdest},null,8,["onClick"]),(0,i._)("table",null,[(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.dest,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i._)("td",null,(0,F.zw)(e.name),1)])))),128))])]),(0,i.Wm)(u,{label:"Remitir",color:"teal",icon:"send",class:"full-width",type:"submit"})])),_:1},8,["onSubmit"])])),_:1}),(0,i.Wm)(_,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(u,{flat:"",label:"Cancelar",color:"primary",icon:"delete"},null,512),[[V]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(q,{modelValue:s.dialogarchivo,"onUpdate:modelValue":t[13]||(t[13]=e=>s.dialogarchivo=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{style:{width:"300px","min-width":"40vh"}},{default:(0,i.w5)((()=>[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i._)("div",ie,[(0,i.Wm)(p,{name:"list"}),(0,i.Uk)(" "+(0,F.zw)(s.mail.ref)+" Subir archivo",1)])])),_:1}),(0,i.Wm)(_,{class:"q-pt-none"},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{class:"full-width",label:"Subir archivo",factory:n.uploadFile,"max-files":"1"},null,8,["factory"])])),_:1}),(0,i.Wm)(_,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(u,{flat:"",label:"Cancelar",color:"primary",icon:"delete"},null,512),[[V]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])])),_:1})}var ne=o(1082);const re={data(){return{miaccion:"",filter:"",usuario:"",diaglosasignacion:!1,dialogarchivo:!1,url:"https://back.gamo.cf/api",dato:{tipo:"INTERNO",fecha:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),folio:1},folios:[],usuarios:[],usuarios2:[],dest:[],mails:[],mail:{},remitentes:[],remitentes2:[],remitente:"",cargo:"",institucion:"",columns:[{field:"codigo",name:"codigo",label:"codigo",align:"right"},{field:"codexterno",name:"codexterno",label:"codexterno",align:"right"},{field:"ref",name:"ref",label:"ref",align:"right"},{field:"remitente",name:"remitente",label:"remitente",align:"right"},{field:"logs",name:"logs",label:"logs",align:"left"},{field:"dias",name:"dias",label:"dias",align:"right"},{field:"folio",name:"folio",label:"Fojas",align:"right"},{field:"archivo",name:"archivo",label:"archivo",align:"right"},{field:"opciones",name:"opciones",label:"opciones",align:"right"}]}},created(){this.misdatos();for(let e=1;e<=1e3;e++)this.folios.push(e);this.misremitentes(),this.$axios.post("https://back.gamo.cf/api/usuarios").then((e=>{e.data.forEach((e=>{this.usuarios.push({id:e.id,name:e.name,unit_id:e.unit_id,label:e.unit.nombre+"-"+e.name})})),this.usuarios2=this.usuarios}))},methods:{tabdest(){let e=!1;this.dest.forEach((t=>{t.id==this.usuario.id&&(e=!0)})),e||this.dest.push(this.usuario)},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.usuarios=this.usuarios2.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.usuarios=this.usuarios2})},uploadFile(e){this.file_path=e[0];const t=new FormData;t.append("imagen",this.file_path),t.append("mail_id",this.mail.id),this.$q.loading.show();this.$axios.post("https://back.gamo.cf/api/upload",t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.misdatos(),this.$q.loading.hide(),this.dialogarchivo=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Imagen subido correctamente!"})}))},registrarlog(){if(console.log(this.dest),0==this.dest.length)return this.$q.notify({message:"Debe seleccionar al menos 1 Dest",color:"red",icon:"error"}),!1;this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/log",{mail_id:this.mail.id,list_user:this.dest,accion:this.miaccion}).then((e=>{this.misdatos(),this.$q.loading.hide(),this.diaglosasignacion=!1,this.$q.notify({message:"Renviado correctamente!!",color:"green",icon:"done"})})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"red",icon:"error"}),this.$q.loading.hide()}))},misremitentes(){this.$axios.get("https://back.gamo.cf/api/mail/create").then((e=>{this.remitentes=e.data}))},cambio(){this.cargo="",this.institucion="",this.remitentes.find((e=>{if(e.remitente===this.remitente)return this.cargo=e.cargo,this.institucion=e.institucion,!1}))},mostrar(e){this.$q.dialog({title:"Referencia",message:e})},archivar(e){this.$q.dialog({title:"Seguro de archivar?",message:"Motivo de archivar",prompt:{model:"",type:"text"},cancel:!0}).onOk((t=>{this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/anulado",{mail_id:e.id,accion:t,estado:"ARCHIVAR"}).then((e=>{this.misdatos(),this.$q.notify({message:"Archivado",caption:"Registro archivado",color:"green",icon:"done"})}))}))},archivo(e){this.mail=e,this.dialogarchivo=!0},dividir(e){this.$q.dialog({title:"En cuantos deseas dividir?",message:"Cantidad de divicion",prompt:{model:"",type:"number"},cancel:!0}).onOk((t=>{this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/dividir",{cantidad:t,mail_id:e.id}).then((e=>{this.misdatos(),this.$q.notify({message:"Dividido",caption:"Registro dividido",color:"green",icon:"done"})}))}))},editar(e){this.dato=e.row,this.remitente=e.row.remitente,this.cargo=e.row.cargo,this.institucion=e.row.institucion},misdatos(){this.$q.loading.show(),this.$axios.get("https://back.gamo.cf/api/mail").then((e=>{this.mails=[],e.data.forEach((e=>{const t=new Date,o=ne.ZP.extractDate(e.fecha,"YYYY-MM-DD"),a=ne.ZP.getDateDiff(t,o,"days");this.mails.push({id:e.id,codigo:e.codigo,tipo:e.tipo,tipo2:e.tipo2,ref:e.ref,remitente:e.remitente,cargo:e.cargo,institucion:e.institucion,fecha:e.fecha,fechacarta:e.fechacarta,estado:e.estado,folio:e.folio,archivo:e.archivo,codinterno:e.codinterno,codexterno:e.codexterno,logs:e.logs,dias:a})})),this.$q.loading.hide()}))},anular(e){this.$q.dialog({title:"Seguro de anular?",message:"Motivo de anular",prompt:{model:"",type:"text"},cancel:!0}).onOk((t=>{this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/anulado",{mail_id:e.id,accion:t,estado:"ANULADO"}).then((e=>{this.misdatos(),this.$q.notify({message:"Anulado",caption:"Registro anulado",color:"green",icon:"done"})}))}))},impresion(e){this.$axios.post("https://back.gamo.cf/api/impruta/"+e).then((e=>{console.log(e.data);let t=window.open("","Imprimir","width=200,height=100");t.document.write(e.data),t.document.close(),t.focus(),setTimeout((function(){t.print(),t.close()}),500)}))},guardar(){if(!confirm("seguro de continuar?"))return!1;this.dato.remitente=this.remitente,this.dato.cargo=this.cargo,this.dato.institucion=this.institucion,void 0==this.dato.id||""==this.dato.id?(this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/mail",this.dato).then((e=>{console.log(e.data),this.dato={tipo:"INTERNO",fecha:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),folio:1},this.remitente="",this.cargo="",this.institucion="",this.misdatos(),this.misremitentes()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))):(this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/updatemail",this.dato).then((e=>{this.dato={tipo:"INTERNO",fecha:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),folio:1},this.remitente="",this.cargo="",this.institucion="",this.misdatos(),this.misremitentes()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red",icon:"error"})})))}}};var de=o(7991),ce=o(6429),ue=o(8186),me=o(3884),pe=o(9721),he=o(6375),fe=o(6778),we=o(5589),ge=o(3414),be=o(2035),_e=o(5252),ve=o(677);re.render=se;const xe=re;Q()(re,"components",{QPage:y.Z,QForm:$.Z,QRadio:de.Z,QInput:R.Z,QSelect:z.Z,QBtn:E.Z,QTable:ce.Z,QIcon:O.Z,QTr:ue.Z,QTd:me.Z,QBadge:pe.Z,QBtnGroup:he.Z,QDialog:fe.Z,QCard:V.Z,QCardSection:we.Z,QItem:ge.Z,QItemSection:be.Z,QUploader:_e.Z}),Q()(re,"directives",{ClosePopup:ve.Z});const We={class:"q-pa-md"},qe={class:"text-h7"},ke=(0,i.Uk)(" REGISTRO DE NUEVO USUARIO"),ye={class:"row"},Ve={class:"col-6"},De={class:"col-6"},Se=(0,i._)("div",{class:"text-5"},"Permisos",-1),Ue={class:"text-h7"},Ce=(0,i.Uk)(" MODIFICAR DATOS DE USUARIO"),Ze=(0,i._)("span",{class:"q-ml-sm"},"Seguro de eliminar Registro.",-1),$e={class:"text-h7 text-white"},Re=(0,i.Uk)(" PERMISOS DE ACCESO");function Oe(e,t,o,l,s,n){const r=(0,i.up)("q-btn"),d=(0,i.up)("q-icon"),c=(0,i.up)("q-card-section"),u=(0,i.up)("q-input"),m=(0,i.up)("q-select"),p=(0,i.up)("q-checkbox"),h=(0,i.up)("q-form"),f=(0,i.up)("q-card"),w=(0,i.up)("q-dialog"),g=(0,i.up)("q-td"),b=(0,i.up)("q-badge"),_=(0,i.up)("q-tr"),v=(0,i.up)("q-table"),x=(0,i.up)("q-avatar"),W=(0,i.up)("q-card-actions"),q=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)("div",We,[(0,i.Wm)(r,{label:"Nuevo usuario",color:"positive",onClick:t[0]||(t[0]=e=>s.alert=!0),icon:"add_circle",class:"q-mb-xs"}),(0,i.Wm)(w,{modelValue:s.alert,"onUpdate:modelValue":t[7]||(t[7]=e=>s.alert=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{style:{"max-width":"80%",width:"50%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"bg-green-14 text-white"},{default:(0,i.w5)((()=>[(0,i._)("div",qe,[(0,i.Wm)(d,{name:"add_circle"}),ke])])),_:1}),(0,i.Wm)(c,{class:"q-pt-xs"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{onSubmit:n.onSubmit,onReset:n.onReset,class:"q-gutter-md"},{default:(0,i.w5)((()=>[(0,i._)("div",ye,[(0,i._)("div",Ve,[(0,i.Wm)(u,{filled:"",modelValue:s.dato.name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.dato.name=e),type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,i.Wm)(u,{filled:"",modelValue:s.dato.email,"onUpdate:modelValue":t[2]||(t[2]=e=>s.dato.email=e),type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,i.Wm)(u,{filled:"",modelValue:s.dato.carnet,"onUpdate:modelValue":t[3]||(t[3]=e=>s.dato.carnet=e),type:"text",label:"Carnet identidad",hint:"Carnet identidad","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,i.Wm)(m,{filled:"",modelValue:s.dato.unit,"onUpdate:modelValue":t[4]||(t[4]=e=>s.dato.unit=e),label:"Unidad",options:s.units,onFilter:n.filterFn,"use-input":"",hint:"Selecionar unidad"},null,8,["modelValue","options","onFilter"]),(0,i.Wm)(u,{filled:"",modelValue:s.dato.password,"onUpdate:modelValue":t[5]||(t[5]=e=>s.dato.password=e),type:"password",label:"Contraseña",hint:"Contraseña","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,i.Wm)(u,{filled:"",label:"Fecha limite",type:"date",hint:"Fecha limite de acceso",modelValue:s.dato.fechalimite,"onUpdate:modelValue":t[6]||(t[6]=e=>s.dato.fechalimite=e)},null,8,["modelValue"])]),(0,i._)("div",De,[Se,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.permisos,((e,t)=>((0,i.wg)(),(0,i.j4)(p,{style:{width:"100%"},key:t,label:e.nombre,modelValue:e.estado,"onUpdate:modelValue":t=>e.estado=t},null,8,["label","modelValue","onUpdate:modelValue"])))),128))])]),(0,i._)("div",null,[(0,i.Wm)(r,{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}),(0,i.wy)((0,i.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[q]])])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(v,{filter:s.filter,title:"REGISTRO DE USUARIOS",rows:s.data,dense:"",columns:s.columns,"row-key":"name","rows-per-page-options":[10,100,200,0]},{"top-right":(0,i.w5)((()=>[(0,i.Wm)(u,{outlined:"",dense:"",debounce:"300",modelValue:s.filter,"onUpdate:modelValue":t[8]||(t[8]=e=>s.filter=e),placeholder:"Buscar"},{append:(0,i.w5)((()=>[(0,i.Wm)(d,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,i.w5)((e=>[(0,i.Wm)(_,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{key:"name",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,i.Wm)(g,{key:"email",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.email),1)])),_:2},1032,["props"]),(0,i.Wm)(g,{key:"unidad",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.unidad),1)])),_:2},1032,["props"]),(0,i.Wm)(g,{key:"permisos",props:e},{default:(0,i.w5)((()=>[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.row.permisos,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t},(0,F.zw)(e.nombre),1)))),128))])])),_:2},1032,["props"]),(0,i.Wm)(g,{key:"fechalimite",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.fechalimite),1)])),_:2},1032,["props"]),(0,i.Wm)(g,{key:"tipo",props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{color:"USUARIO"==e.row.tipo?"teal":"accent"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.tipo),1)])),_:2},1032,["color"])])),_:2},1032,["props"]),(0,i.Wm)(g,{key:"opcion",props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{dense:"",round:"",flat:"",color:"yellow",onClick:t=>n.editRow(e),icon:"edit"},null,8,["onClick"]),(0,i.Wm)(r,{dense:"",round:"",flat:"",color:"positive",onClick:t=>n.cambiopass(e),icon:"vpn_key"},null,8,["onClick"]),(0,i.Wm)(r,{dense:"",round:"",flat:"",color:"green-10",onClick:t=>n.mispermisos(e),icon:"post_add"},null,8,["onClick"]),(0,i.Wm)(r,{dense:"",round:"",flat:"",color:"red",onClick:t=>n.deleteRow(e),icon:"delete"},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["filter","rows","columns"]),(0,i.Wm)(w,{modelValue:s.dialog_mod,"onUpdate:modelValue":t[15]||(t[15]=e=>s.dialog_mod=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{style:{"max-width":"80%",width:"50%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"bg-warning text-white"},{default:(0,i.w5)((()=>[(0,i._)("div",Ue,[(0,i.Wm)(d,{name:"edit"}),Ce])])),_:1}),(0,i.Wm)(c,{class:"q-pt-xs"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{onSubmit:n.onMod,class:"q-gutter-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{filled:"",modelValue:s.dato2.name,"onUpdate:modelValue":t[9]||(t[9]=e=>s.dato2.name=e),type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,i.Wm)(u,{filled:"",modelValue:s.dato2.email,"onUpdate:modelValue":t[10]||(t[10]=e=>s.dato2.email=e),type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,i.Wm)(u,{filled:"",modelValue:s.dato2.carnet,"onUpdate:modelValue":t[11]||(t[11]=e=>s.dato2.carnet=e),type:"text",label:"Carnet",hint:"Carnet de identidad","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,i.Wm)(m,{filled:"",modelValue:s.dato2.unit,"onUpdate:modelValue":t[12]||(t[12]=e=>s.dato2.unit=e),label:"Unidad",options:s.units,hint:"Selecionar unidad","option-label":"nombre"},null,8,["modelValue","options"]),(0,i.Wm)(u,{filled:"",label:"Fecha limite",type:"date",modelValue:s.dato2.fechalimite,"onUpdate:modelValue":t[13]||(t[13]=e=>s.dato2.fechalimite=e)},null,8,["modelValue"]),(0,i.Wm)(m,{filled:"",label:"Tipo usuario",modelValue:s.dato2.tipo,"onUpdate:modelValue":t[14]||(t[14]=e=>s.dato2.tipo=e),options:["USUARIO","SECRETARIA"]},null,8,["modelValue"]),(0,i._)("div",null,[(0,i.Wm)(r,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,i.wy)((0,i.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[q]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(w,{modelValue:s.dialog_del,"onUpdate:modelValue":t[16]||(t[16]=e=>s.dialog_del=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"row items-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{icon:"clear",color:"red","text-color":"white"}),Ze])),_:1}),(0,i.Wm)(W,{align:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{flat:"",label:"Eliminar",color:"deep-orange",onClick:n.onDel},null,8,["onClick"]),(0,i.wy)((0,i.Wm)(r,{flat:"",label:"Cancelar",color:"primary"},null,512),[[q]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(w,{modelValue:s.modelpermiso,"onUpdate:modelValue":t[17]||(t[17]=e=>s.modelpermiso=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{style:{width:"700px","max-width":"80vw"}},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"bg-info"},{default:(0,i.w5)((()=>[(0,i._)("div",$e,[(0,i.Wm)(d,{name:"folder"}),Re])])),_:1}),(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{onSubmit:(0,a.iM)(n.updatepermisos,["prevent"])},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.permisos2,((e,t)=>((0,i.wg)(),(0,i.j4)(p,{style:{width:"100%"},key:t,label:e.nombre,modelValue:e.estado,"onUpdate:modelValue":t=>e.estado=t},null,8,["label","modelValue","onUpdate:modelValue"])))),128)),(0,i.Wm)(r,{type:"submit",color:"info",icon:"send",label:"Actualizar"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const{addToDate:Ee}=ne.ZP,ze={data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,filter:"",dato:{fechalimite:ne.ZP.formatDate(Ee(new Date,{days:7}),"YYYY-MM-DD")},model:"",dato2:{},options:[],props:[],unidades:[],permisos:[],permisos2:[],modelpermiso:!1,uni:{},columns:[{name:"name",align:"left",label:"NOMBRE ",field:"name",sortable:!0},{name:"email",align:"left",label:"E-MAIL",field:"email",sortable:!0},{name:"unidad",align:"left",label:"UNIDAD",field:"unidad",sortable:!0},{name:"permisos",align:"left",label:"PERMISOS",field:"permisos",sortable:!0},{name:"fechalimite",align:"left",label:"FECHA LÍMITE",field:"fechalimite",sortable:!0},{name:"tipo",align:"left",label:"TIPO",field:"tipo",sortable:!0},{name:"opcion",label:"OPCIÓN",field:"action",sortable:!1}],data:[],units:[],unit:[],units2:[]}},created(){this.misdatos(),this.$axios.get("https://back.gamo.cf/api/unit").then((e=>{this.units=[],e.data.forEach((e=>{e.label=e.nombre,this.units.push(e)})),this.units2=this.units})),this.$axios.get("https://back.gamo.cf/api/permiso").then((e=>{e.data.forEach((e=>{this.permisos.push({id:e.id,nombre:e.nombre,estado:!1}),this.permisos2.push({id:e.id,nombre:e.nombre,estado:!1})}))}))},methods:{updatepermisos(){this.$axios.put("https://back.gamo.cf/api/updatepermisos/"+this.dato2.id,{permisos:this.permisos2}).then((e=>{this.modelpermiso=!1,this.misdatos()})).catch((e=>{this.$q.notify({message:e.response.data.message,icon:"close",color:"red"})}))},mispermisos(e){let t;this.modelpermiso=!0,this.dato2=e.row,this.permisos2.forEach((e=>{t=this.dato2.permisos.find((t=>t.pivot.permiso_id==e.id)),e.estado=void 0!=t}))},misdatos(){this.$q.loading.show(),this.$axios.get("https://back.gamo.cf/api/user").then((e=>{this.data=[],e.data.forEach((e=>{e.unidad=e.unit.nombre,this.data.push(e)})),this.$q.loading.hide()}))},editRow(e){this.dato2=e.row,this.dato2.unid_id=e.row.unid,this.dialog_mod=!0},deleteRow(e){this.dato2=e.row,this.dialog_del=!0},onSubmit(){if(""==this.dato.unit||void 0==this.dato.unit)return this.$q.notify({message:"Debeser seleccionar unidad",color:"red",icon:"error"}),!1;this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/user",{name:this.dato.name,password:this.dato.password,email:this.dato.email,unit_id:this.dato.unit.id,celular:this.dato.celular,carnet:this.dato.carnet,fechalimite:this.dato.fechalimite,permisos:this.permisos}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={fechalimite:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD")},this.alert=!1,this.misdatos()})).catch((e=>{console.log(e.response.data),this.$q.notify({message:e.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){if(""==this.dato2.unit||void 0==this.dato2.unit)return this.$q.notify({message:"Debeser seleccionar unidad",color:"red",icon:"error"}),!1;this.$q.loading.show(),this.$axios.put("https://back.gamo.cf/api/user/"+this.dato2.id,{name:this.dato2.name,email:this.dato2.email,carnet:this.dato2.carnet,unit_id:this.dato2.unit.id,celular:this.dato2.celular,tipo:this.dato2.tipo,fechalimite:this.dato2.fechalimite}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$axios.delete("https://back.gamo.cf/api/user/"+this.dato2.id).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato.nombre=null,this.dato.inicio=0,this.dato.fin=0},cambiopass(e){this.$q.dialog({title:"CAMBIAR PASSWORD",message:"Ingresar nueva contraseña",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((t=>{this.$q.loading.show(),this.$axios.put("https://back.gamo.cf/api/pass/"+e.row.id,{password:t}).then((e=>{this.$q.loading.hide()}))})).onCancel((()=>{})).onDismiss((()=>{}))},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.units=this.units2.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.units=this.units2})}}};var Ie=o(5735),Qe=o(5096),Ae=o(9367);ze.render=Oe;const Fe=ze;Q()(ze,"components",{QBtn:E.Z,QDialog:fe.Z,QCard:V.Z,QCardSection:we.Z,QIcon:O.Z,QForm:$.Z,QInput:R.Z,QSelect:z.Z,QCheckbox:Ie.Z,QTable:ce.Z,QTr:ue.Z,QTd:me.Z,QBadge:pe.Z,QAvatar:Qe.Z,QCardActions:Ae.Z}),Q()(ze,"directives",{ClosePopup:ve.Z});const Pe=e=>((0,i.dD)("data-v-0ebf1536"),e=e(),(0,i.Cn)(),e),Te={class:"row"},Me={class:"col-12"},Ye={class:"row"},je={class:"col-12 col-md-10 q-pa-xs"},Ne={class:"col-12 col-md-2 q-pa-xs flex flex-center"},Le={class:"col-12 col-md-12"},He=(0,i.Uk)(" Datos de correspondencia "),Be={class:"row"},Je={class:"col-3 q-pa-xs"},Ke={class:"col-3 q-pa-xs"},Ge={class:"col-3 q-pa-xs"},Xe={class:"col-3 q-pa-xs"},et={class:"col-3 q-pa-xs"},tt={class:"col-3 q-pa-xs"},ot={class:"col-3 q-pa-xs"},at={class:"col-3 q-pa-xs"},lt={class:"col-12 q-pa-xs"},it={class:"col-12 col-md-12"},st=(0,i.Uk)(" Datos de historial "),nt={key:0,class:"text-caption"},rt={class:"text-caption"},dt={class:"row"},ct={class:"col-12"},ut={class:"row"},mt={class:"col-12"},pt={key:0,class:"row"},ht={class:"col-12"},ft=Pe((()=>(0,i._)("br",null,null,-1)));function wt(e,t,o,l,s,n){const r=(0,i.up)("q-select"),d=(0,i.up)("q-btn"),c=(0,i.up)("q-form"),u=(0,i.up)("q-banner"),m=(0,i.up)("q-input"),p=(0,i.up)("q-td"),h=(0,i.up)("q-badge"),f=(0,i.up)("q-table"),w=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(w,{class:"q-pa-xs"},{default:(0,i.w5)((()=>[(0,i._)("div",Te,[(0,i._)("div",Me,[(0,i.Wm)(c,{onSubmit:(0,a.iM)(n.buscar,["prevent"])},{default:(0,i.w5)((()=>[(0,i._)("div",Ye,[(0,i._)("div",je,[(0,i.Wm)(r,{"use-input":"",label:"Ingresar cite/codigo/Referencia/Observación extra",modelValue:s.codigo,"onUpdate:modelValue":t[0]||(t[0]=e=>s.codigo=e),options:s.mails,outlined:"",onFilter:n.filterFn},null,8,["modelValue","options","onFilter"])]),(0,i._)("div",Ne,[(0,i.Wm)(d,{label:"Buscar",color:"primary",icon:"send",type:"submit"})])])])),_:1},8,["onSubmit"])]),(0,i._)("div",Le,[(0,i.Wm)(u,{dense:"",class:"bg-primary text-white"},{default:(0,i.w5)((()=>[He])),_:1}),(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i._)("div",Be,[(0,i._)("div",Je,[(0,i.Wm)(m,{dense:"",label:"tipo",modelValue:s.email.tipo,"onUpdate:modelValue":t[1]||(t[1]=e=>s.email.tipo=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",Ke,[(0,i.Wm)(m,{dense:"",label:"ref",modelValue:s.email.ref,"onUpdate:modelValue":t[2]||(t[2]=e=>s.email.ref=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",Ge,[(0,i.Wm)(m,{dense:"",label:"remitente",modelValue:s.email.remitente,"onUpdate:modelValue":t[3]||(t[3]=e=>s.email.remitente=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",Xe,[(0,i.Wm)(m,{dense:"",label:"destinatario",modelValue:s.email.destinatario,"onUpdate:modelValue":t[4]||(t[4]=e=>s.email.destinatario=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",et,[(0,i.Wm)(m,{dense:"",label:"cargo",modelValue:s.email.cargo,"onUpdate:modelValue":t[5]||(t[5]=e=>s.email.cargo=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",tt,[(0,i.Wm)(m,{dense:"",label:"institucion",modelValue:s.email.institucion,"onUpdate:modelValue":t[6]||(t[6]=e=>s.email.institucion=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",ot,[(0,i.Wm)(m,{dense:"",label:"fecha",modelValue:s.email.fecha,"onUpdate:modelValue":t[7]||(t[7]=e=>s.email.fecha=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",at,[(0,i.Wm)(m,{dense:"",label:"Fojas",modelValue:s.email.folio,"onUpdate:modelValue":t[8]||(t[8]=e=>s.email.folio=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",lt,[""!=s.email.archivo&&void 0!=s.email.archivo?((0,i.wg)(),(0,i.j4)(d,{key:0,type:"a",href:s.url+"/../imagenes/"+s.email.archivo,target:"__blank",class:"full-width",color:"primary",icon:"file_download",label:s.email.archivo,outlined:""},null,8,["href","label"])):(0,i.kq)("",!0)])])])),_:1})]),(0,i._)("div",it,[(0,i.Wm)(u,{dense:"",class:"bg-amber text-white"},{default:(0,i.w5)((()=>[st])),_:1}),(0,i.Wm)(f,{dense:"",columns:s.columns,rows:s.email.logs,"rows-per-page-options":[10,100,150,200,0]},{"body-cell-de":(0,i.w5)((e=>[(0,i.Wm)(p,{props:e},{default:(0,i.w5)((()=>[void 0!=e.row.user?((0,i.wg)(),(0,i.iD)("div",nt,(0,F.zw)(e.row.user.name),1)):(0,i.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-a":(0,i.w5)((e=>[(0,i.Wm)(p,{props:e},{default:(0,i.w5)((()=>[(0,i._)("div",rt,(0,F.zw)(e.row.user2.name),1)])),_:2},1032,["props"])])),"body-cell-unidad":(0,i.w5)((e=>[(0,i.Wm)(p,{props:e},{default:(0,i.w5)((()=>[(0,i._)("div",dt,[(0,i._)("div",ct,[(0,i.Wm)(m,{dense:"",autogrow:"",disable:"",outlined:"",type:"textarea","model-value":e.row.user2.unit.nombre},null,8,["model-value"])])])])),_:2},1032,["props"])])),"body-cell-accion":(0,i.w5)((e=>[(0,i.Wm)(p,{props:e},{default:(0,i.w5)((()=>[(0,i._)("div",ut,[(0,i._)("div",mt,[(0,i.Wm)(m,{dense:"",autogrow:"",disable:"",outlined:"",type:"textarea","model-value":e.row.accion+" "+e.row.archivado},null,8,["model-value"])])]),e.row.observacion?((0,i.wg)(),(0,i.iD)("div",pt,[(0,i._)("div",ht,[(0,i.Wm)(m,{dense:"",autogrow:"",disable:"",outlined:"",type:"textarea","model-value":e.row.observacion,label:"Observación extra"},null,8,["model-value"])])])):(0,i.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-estado":(0,i.w5)((e=>[(0,i.Wm)(p,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{color:"REMITIDO"==e.row.estado||"ARCHIVADO"==e.row.estado?"positive":"negative"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.estado),1)])),_:2},1032,["color"]),ft,(0,i.Wm)(h,{color:"blue-9"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.fecha),1)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])])])),_:1})}const gt={data(){return{columns:[{label:"De",field:"de",name:"de",align:"left"},{label:"A",field:"a",name:"a",align:"left"},{label:"Unidad",field:"unidad",name:"unidad",align:"left"},{label:"Acción",field:"accion",name:"accion"},{label:"Estado",field:"estado",name:"estado"}],url:"https://back.gamo.cf/api",codigo:{},email:{},mails:[],mails2:[],teclas:""}},created(){this.$q.loading.show(),this.$axios.get("https://back.gamo.cf/api/todos?codigo= ").then((e=>{this.mails.push({label:""}),console.log(e),e.data.forEach((e=>{e.label=e.codigo+" "+e.citecontrol+" "+e.remitente+" "+e.ref,this.mails.push(e)})),console.log(this.mails),this.mails2=this.mails,this.codigo=this.mails[0],this.$q.loading.hide()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))},methods:{buscar(){this.$q.loading.show(),this.email={},console.log(this.codigo),this.$axios.post("https://back.gamo.cf/api/buscar",{codigo:this.codigo.codigo}).then((e=>{console.log(e.data),e.data.length>0&&(this.email=e.data[0]),console.log("emial"),console.log(this.email),this.$q.loading.hide()}))},todos(e){this.mails=[],this.$axios.get("https://back.gamo.cf/api/todos?codigo="+e).then((e=>{this.mails.push({label:""}),e.data.forEach((e=>{console.log(e),e.label=e.codigo+" "+e.citecontrol+" "+e.remitente+" "+e.ref+" ",this.mails.push(e)})),this.mails2=this.mails,this.codigo=this.mails[0],this.$q.loading.hide()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))},filterFn(e,t){""!==e?(this.mails=[],this.mails2=[],this.todos(e),t((()=>{const t=e.toLowerCase();this.mails=this.mails2.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}))):t((()=>{this.mails=this.mails2}))}}};var bt=o(5607);gt.render=wt,gt.__scopeId="data-v-0ebf1536";const _t=gt;Q()(gt,"components",{QPage:y.Z,QForm:$.Z,QSelect:z.Z,QBtn:E.Z,QBanner:bt.Z,QInput:R.Z,QTable:ce.Z,QTd:me.Z,QBadge:pe.Z});const vt={class:"row"},xt={class:"col-12"},Wt={class:"row"},qt={class:"col-4 q-pa-xs"},kt={class:"col-4 q-pa-xs"},yt={class:"col-4 q-pa-xs flex flex-center"},Vt={class:"col-12"},Dt={id:"example",style:{width:"100%"}},St=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Fecha"),(0,i._)("th",null,"Codigo"),(0,i._)("th",null,"Referencia"),(0,i._)("th",null,"Remitente"),(0,i._)("th",null,"Cargo"),(0,i._)("th",null,"Institucion"),(0,i._)("th",null,"Fecha carta"),(0,i._)("th",null,"Codigo externo")])],-1);function Ut(e,t,o,l,s,n){const r=(0,i.up)("q-input"),d=(0,i.up)("q-btn"),c=(0,i.up)("q-form"),u=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(u,{class:"q-pa-xs"},{default:(0,i.w5)((()=>[(0,i._)("div",vt,[(0,i._)("div",xt,[(0,i.Wm)(c,{onSubmit:t[2]||(t[2]=(0,a.iM)((e=>n.consultar()),["prevent"]))},{default:(0,i.w5)((()=>[(0,i._)("div",Wt,[(0,i._)("div",qt,[(0,i.Wm)(r,{outlined:"",modelValue:s.fecha1,"onUpdate:modelValue":t[0]||(t[0]=e=>s.fecha1=e),type:"date",label:"Fecha inicio"},null,8,["modelValue"])]),(0,i._)("div",kt,[(0,i.Wm)(r,{outlined:"",modelValue:s.fecha2,"onUpdate:modelValue":t[1]||(t[1]=e=>s.fecha2=e),type:"date",label:"Fecha final"},null,8,["modelValue"])]),(0,i._)("div",yt,[(0,i.Wm)(d,{label:"consulta",color:"primary",icon:"search",type:"submit"})])])])),_:1})]),(0,i._)("div",Vt,[(0,i._)("table",Dt,[St,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.mails,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i._)("td",null,(0,F.zw)(e.fecha)+" "+(0,F.zw)(e.hora),1),(0,i._)("td",null,(0,F.zw)(e.codigo),1),(0,i._)("td",null,(0,F.zw)(e.ref),1),(0,i._)("td",null,(0,F.zw)(e.remitente),1),(0,i._)("td",null,(0,F.zw)(e.cargo),1),(0,i._)("td",null,(0,F.zw)(e.institucion),1),(0,i._)("td",null,(0,F.zw)(e.fechacarta),1),(0,i._)("td",null,(0,F.zw)(e.codexterno),1)])))),128))])])])])])),_:1})}o(9720);var Ct=o(7167),Zt=o.n(Ct),$t=o(182),Rt=o.n($t),Ot=o(7033),Et=o(7345);o(5241)(),o(9720)(),o(2905),o(1400),Rt().vfs=Ot.I.vfs,window.JSZip=Zt();const zt={data(){return{fecha1:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),fecha2:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),mails:[]}},created(){},mounted(){Et("#example").DataTable({dom:"Bfrtip",buttons:["copy","csv","excel","pdf","print"]}),this.consultar()},methods:{consultar(){this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/consulta",{fecha1:this.fecha1,fecha2:this.fecha2}).then((e=>{this.mails=e.data,this.$q.loading.hide(),Et("#example").DataTable().destroy(),this.$nextTick((()=>{Et("#example").DataTable({dom:"Bfrtip",buttons:["copy","csv","excel","pdf","print"]})}))})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))}}};zt.render=Ut;const It=zt;Q()(zt,"components",{QPage:y.Z,QForm:$.Z,QInput:R.Z,QBtn:E.Z});const Qt={class:"q-px-lg q-pt-xs q-mb-md"},At={class:"text-h5 text-bold"},Ft=(0,i.Uk)(" SIC GAMO "),Pt=(0,i._)("div",{style:{"font-size":"14px"}},"SISTEMA DE INFORMACIÓN DE CORRESPONDENCIA GAMO",-1),Tt={class:"text-subtitle1"},Mt=(0,i.Uk)("Ingresar"),Yt=(0,i.Uk)(" Ingreso al sistema "),jt=(0,i.Uk)("Usuarios"),Nt=(0,i.Uk)(" Control de usuarios "),Lt=(0,i.Uk)("Registro de correspondencia"),Ht=(0,i.Uk)(" Recepciones de correspondencia "),Bt=(0,i.Uk)("Todo"),Jt=(0,i.Uk)("Recibidos"),Kt=(0,i.Uk)("Pendientes"),Gt=(0,i.Uk)("Enviados"),Xt=(0,i.Uk)("Archivados"),eo=(0,i.Uk)("Seguimiento"),to=(0,i.Uk)(" Seguimiento de archivos "),oo=(0,i.Uk)("Reporte Correpondencia PENDIENTE"),ao=(0,i.Uk)(" correspondencia Pendiente "),lo=(0,i.Uk)("Reporte Correpondencia creada"),io=(0,i.Uk)(" Reporte de correspondencia "),so=(0,i.Uk)("Reporte Correpondencia Remitida"),no=(0,i.Uk)(" Reporte de correspondencia "),ro=(0,i.Uk)("Reporte Correpondencia Recibida"),co=(0,i.Uk)(" Reporte de correspondencia "),uo=(0,i.Uk)("Mis recepciones"),mo=(0,i.Uk)(" Historial de mis recepciones "),po=(0,i.Uk)("Salir"),ho=(0,i.Uk)(" Salir del sistema "),fo=(0,i._)("div",{class:"absolute-bottom bg-transparent"},[(0,i._)("div",{class:"text-weight-bold"},"Correspondencia "),(0,i._)("div",null,"Menu")],-1);function wo(e,t,o,a,l,s){const n=(0,i.up)("q-btn"),r=(0,i.up)("q-toolbar-title"),d=(0,i.up)("q-toolbar"),c=(0,i.up)("q-img"),u=(0,i.up)("q-header"),m=(0,i.up)("q-icon"),p=(0,i.up)("q-item-section"),h=(0,i.up)("q-item-label"),f=(0,i.up)("q-item"),w=(0,i.up)("q-expansion-item"),g=(0,i.up)("q-list"),b=(0,i.up)("q-scroll-area"),_=(0,i.up)("q-drawer"),v=(0,i.up)("router-view"),x=(0,i.up)("q-page-container"),W=(0,i.up)("q-layout"),q=(0,i.Q2)("ripple");return(0,i.wg)(),(0,i.j4)(W,{view:"lHh Lpr lFf"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{elevated:""},{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(n,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:s.toggleLeftDrawer},null,8,["onClick"]),(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.$store.state.login.user.name),1)])),_:1}),(0,i._)("div",null,[e.$store.getters["login/isLoggedIn"]?((0,i.wg)(),(0,i.j4)(n,{key:0,label:"Salir",onClick:s.logout,color:"negative",icon:"logout",size:"xs"},null,8,["onClick"])):(0,i.kq)("",!0)])])),_:1}),(0,i._)("div",Qt,[(0,i._)("div",At,[e.$store.getters["login/isLoggedIn"]?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)(" Unidad: "+(0,F.zw)(e.$store.state.login.user.unit.nombre),1)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[Ft,Pt],64))]),(0,i._)("div",Tt,(0,F.zw)(l.now),1)]),(0,i.Wm)(c,{src:"img/fondo.jpg",class:"header-image absolute-top"})])),_:1}),(0,i.Wm)(_,{modelValue:l.leftDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=e=>l.leftDrawerOpen=e),"show-if-above":"",width:250,breakpoint:600},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{style:{height:"calc(100% - 130px)","margin-top":"130px","border-right":"1px solid #ddd"}},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{padding:""},{default:(0,i.w5)((()=>[e.$store.getters["login/isLoggedIn"]?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(f,{key:0,clickable:"",exact:"",to:"/"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"login"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[Mt])),_:1}),(0,i.Wm)(h,{caption:""},{default:(0,i.w5)((()=>[Yt])),_:1})])),_:1})])),_:1})),e.$store.state.login.boolusuarios?((0,i.wg)(),(0,i.j4)(f,{key:1,clickable:"",to:"/user"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"people"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[jt])),_:1}),(0,i.Wm)(h,{caption:""},{default:(0,i.w5)((()=>[Nt])),_:1})])),_:1})])),_:1})):(0,i.kq)("",!0),e.$store.state.login.boolrecepcion?((0,i.wg)(),(0,i.j4)(f,{key:2,clickable:"",to:"/recepcion"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"article"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[Lt])),_:1}),(0,i.Wm)(h,{caption:""},{default:(0,i.w5)((()=>[Ht])),_:1})])),_:1})])),_:1})):(0,i.kq)("",!0),e.$store.state.login.booldesignacion?((0,i.wg)(),(0,i.j4)(w,{key:3,"expand-separator":"",icon:"mail",label:"Mis asignaciones",caption:"Mi correspondencia","default-opened":""},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(f,{dense:"",clickable:"",class:"q-pl-xl",to:"/asignacion/todo"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"source"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[Bt])),_:1})])),_:1},512),[[q]]),(0,i.wy)((0,i.Wm)(f,{dense:"",clickable:"",class:"q-pl-xl",to:"/asignacion/recibidos"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"receipt"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[Jt])),_:1})])),_:1},512),[[q]]),(0,i.wy)((0,i.Wm)(f,{dense:"",clickable:"",class:"q-pl-xl",to:"/asignacion/pendientes"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"schedule"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[Kt])),_:1})])),_:1},512),[[q]]),(0,i.wy)((0,i.Wm)(f,{dense:"",clickable:"",class:"q-pl-xl",to:"/asignacion/enviados"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"send"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[Gt])),_:1})])),_:1},512),[[q]]),(0,i.wy)((0,i.Wm)(f,{clickable:"",class:"q-pl-xl",to:"/asignacion/archivados"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"archive"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[Xt])),_:1})])),_:1},512),[[q]])])),_:1})):(0,i.kq)("",!0),e.$store.state.login.boolseguimiento?((0,i.wg)(),(0,i.j4)(f,{key:4,clickable:"",to:"/seguimiento"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"query_stats"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[eo])),_:1}),(0,i.Wm)(h,{caption:""},{default:(0,i.w5)((()=>[to])),_:1})])),_:1})])),_:1})):(0,i.kq)("",!0),e.$store.state.login.booldesignacion?((0,i.wg)(),(0,i.j4)(w,{key:5,"expand-separator":"",icon:"summarize",label:"Reportes",caption:"Reporte de correspondencia"},{default:(0,i.w5)((()=>[e.$store.state.login.boolseguimiento?((0,i.wg)(),(0,i.j4)(f,{key:0,dense:"",class:"q-pl-xl",clickable:"",to:"/reportecorrespondenciapendiente"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"print"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[oo])),_:1}),(0,i.Wm)(h,{caption:""},{default:(0,i.w5)((()=>[ao])),_:1})])),_:1})])),_:1})):(0,i.kq)("",!0),e.$store.state.login.boolseguimiento?((0,i.wg)(),(0,i.j4)(f,{key:1,dense:"",class:"q-pl-xl",clickable:"",to:"/reportecorrespondencia"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"print"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[lo])),_:1}),(0,i.Wm)(h,{caption:""},{default:(0,i.w5)((()=>[io])),_:1})])),_:1})])),_:1})):(0,i.kq)("",!0),e.$store.state.login.boolseguimiento?((0,i.wg)(),(0,i.j4)(f,{key:2,dense:"",class:"q-pl-xl",clickable:"",to:"/reportecorrespondenciaremitida"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"print"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[so])),_:1}),(0,i.Wm)(h,{caption:""},{default:(0,i.w5)((()=>[no])),_:1})])),_:1})])),_:1})):(0,i.kq)("",!0),e.$store.state.login.boolseguimiento?((0,i.wg)(),(0,i.j4)(f,{key:3,dense:"",class:"q-pl-xl",clickable:"",to:"/reportecorrespondenciarecibida"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"print"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[ro])),_:1}),(0,i.Wm)(h,{caption:""},{default:(0,i.w5)((()=>[co])),_:1})])),_:1})])),_:1})):(0,i.kq)("",!0)])),_:1})):(0,i.kq)("",!0),e.$store.state.login.boolmisrecepciones?((0,i.wg)(),(0,i.j4)(f,{key:6,clickable:"",to:"/misrecepciones"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"picture_as_pdf"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[uo])),_:1}),(0,i.Wm)(h,{caption:""},{default:(0,i.w5)((()=>[mo])),_:1})])),_:1})])),_:1})):(0,i.kq)("",!0),e.$store.getters["login/isLoggedIn"]?((0,i.wg)(),(0,i.j4)(f,{key:7,clickable:"",onClick:s.logout},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{avatar:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"logout"})])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[po])),_:1}),(0,i.Wm)(h,{caption:""},{default:(0,i.w5)((()=>[ho])),_:1})])),_:1})])),_:1},8,["onClick"])):(0,i.kq)("",!0)])),_:1})])),_:1}),(0,i.Wm)(c,{class:"absolute-top",src:"img/fondo.jpg",style:{height:"130px"}},{default:(0,i.w5)((()=>[fo])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(x,null,{default:(0,i.w5)((()=>[(0,i.Wm)(v,{key:e.$route.fullPath})])),_:1})])),_:1})}const go={data(){return{leftDrawerOpen:!1,now:ne.ZP.formatDate(Date.now(),"dddd D  MMMM",{days:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],daysShort:["Dum","Lun"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ian","Feb"]}),unidad:"aa"}},created(){},methods:{toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen},logout(){this.$q.loading.show(),this.$store.dispatch("login/logout").then((()=>{this.$q.loading.hide(),this.$router.push("/")}))}}};var bo=o(9214),_o=o(3812),vo=o(9570),xo=o(3747),Wo=o(4027),qo=o(2901),ko=o(7704),yo=o(7011),Vo=o(2350),Do=o(4615),So=o(2652),Uo=o(6489);go.render=wo;const Co=go;Q()(go,"components",{QLayout:bo.Z,QHeader:_o.Z,QToolbar:vo.Z,QBtn:E.Z,QToolbarTitle:xo.Z,QImg:Wo.Z,QDrawer:qo.Z,QScrollArea:ko.Z,QList:yo.Z,QItem:ge.Z,QItemSection:be.Z,QIcon:O.Z,QItemLabel:Vo.Z,QExpansionItem:Do.Z,QAvatar:Qe.Z,QPageContainer:So.Z}),Q()(go,"directives",{Ripple:Uo.Z});const Zo=e=>((0,i.dD)("data-v-49604eee"),e=e(),(0,i.Cn)(),e),$o={class:"row"},Ro={class:"col-12"},Oo={class:"row"},Eo={class:"col-12 col-md-10 q-pa-xs"},zo={class:"col-12 col-md-2 q-pa-xs flex flex-center"},Io={class:"col-12 col-md-4"},Qo=(0,i.Uk)(" Datos de correspondencia "),Ao={class:"row"},Fo={class:"col-6 q-pa-xs"},Po={class:"col-6 q-pa-xs"},To={class:"col-6 q-pa-xs"},Mo={class:"col-6 q-pa-xs"},Yo={class:"col-6 q-pa-xs"},jo={class:"col-6 q-pa-xs"},No={class:"col-6 q-pa-xs"},Lo={class:"col-6 q-pa-xs"},Ho={class:"col-12 q-pa-xs"},Bo={class:"col-12 col-md-8"},Jo=(0,i.Uk)(" Datos de historial "),Ko={class:"full-width"},Go=Zo((()=>(0,i._)("tr",null,[(0,i._)("th",null,"#"),(0,i._)("th",null,"A"),(0,i._)("th",null,"Unidad"),(0,i._)("th",null,"Accion"),(0,i._)("th",null,"Estado")],-1)));function Xo(e,t,o,l,s,n){const r=(0,i.up)("q-input"),d=(0,i.up)("q-btn"),c=(0,i.up)("q-form"),u=(0,i.up)("q-banner"),m=(0,i.up)("q-badge"),p=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(p,{class:"q-pa-xs"},{default:(0,i.w5)((()=>[(0,i._)("div",$o,[(0,i._)("div",Ro,[(0,i.Wm)(c,{onSubmit:(0,a.iM)(n.buscar,["prevent"])},{default:(0,i.w5)((()=>[(0,i._)("div",Oo,[(0,i._)("div",Eo,[(0,i.Wm)(r,{label:"Ingresar codigo",modelValue:s.codigo,"onUpdate:modelValue":t[0]||(t[0]=e=>s.codigo=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",zo,[(0,i.Wm)(d,{label:"Buscar",color:"primary",icon:"send",type:"submit"})])])])),_:1},8,["onSubmit"])]),(0,i._)("div",Io,[(0,i.Wm)(u,{dense:"",class:"bg-primary text-white"},{default:(0,i.w5)((()=>[Qo])),_:1}),(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i._)("div",Ao,[(0,i._)("div",Fo,[(0,i.Wm)(r,{dense:"",label:"tipo",modelValue:s.email.tipo,"onUpdate:modelValue":t[1]||(t[1]=e=>s.email.tipo=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",Po,[(0,i.Wm)(r,{dense:"",label:"ref",modelValue:s.email.ref,"onUpdate:modelValue":t[2]||(t[2]=e=>s.email.ref=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",To,[(0,i.Wm)(r,{dense:"",label:"remitente",modelValue:s.email.remitente,"onUpdate:modelValue":t[3]||(t[3]=e=>s.email.remitente=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",Mo,[(0,i.Wm)(r,{dense:"",label:"cargo",modelValue:s.email.cargo,"onUpdate:modelValue":t[4]||(t[4]=e=>s.email.cargo=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",Yo,[(0,i.Wm)(r,{dense:"",label:"institucion",modelValue:s.email.institucion,"onUpdate:modelValue":t[5]||(t[5]=e=>s.email.institucion=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",jo,[(0,i.Wm)(r,{dense:"",label:"fecha",modelValue:s.email.fecha,"onUpdate:modelValue":t[6]||(t[6]=e=>s.email.fecha=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",No,[(0,i.Wm)(r,{dense:"",label:"folio",modelValue:s.email.folio,"onUpdate:modelValue":t[7]||(t[7]=e=>s.email.folio=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",Lo,[(0,i.Wm)(r,{dense:"",label:"estado",modelValue:s.email.estado,"onUpdate:modelValue":t[8]||(t[8]=e=>s.email.estado=e),outlined:""},null,8,["modelValue"])]),(0,i._)("div",Ho,[""!=s.email.archivo&&void 0!=s.email.archivo?((0,i.wg)(),(0,i.j4)(d,{key:0,type:"a",href:s.url+"/../imagenes/"+s.email.archivo,target:"__blank",class:"full-width",color:"primary",icon:"file_download",label:s.email.archivo,outlined:""},null,8,["href","label"])):(0,i.kq)("",!0)])])])),_:1})]),(0,i._)("div",Bo,[(0,i.Wm)(u,{dense:"",class:"bg-amber text-white"},{default:(0,i.w5)((()=>[Jo])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.email.logs,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"row",key:e.id})))),128)),(0,i._)("table",Ko,[Go,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.email.logs,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:e.id},[(0,i._)("td",null,(0,F.zw)(t+1),1),(0,i._)("td",null,(0,F.zw)(e.user2.name),1),(0,i._)("td",null,(0,F.zw)(e.user2.unit.nombre),1),(0,i._)("td",null,(0,F.zw)(e.accion),1),(0,i._)("td",null,[(0,i.Wm)(m,{color:"REMITIDO"==e.estado||"ARCHIVADO"==e.estado?"positive":"negative"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.estado),1)])),_:2},1032,["color"])])])))),128))])])])])),_:1})}const ea={data(){return{url:"https://back.gamo.cf/api",codigo:"",email:{},mails:[],mails2:[]}},created(){},methods:{buscar(){this.$q.loading.show(),this.email={},this.$axios.post("https://back.gamo.cf/api/con",{codigo:this.codigo}).then((e=>{e.data.length>0&&(this.email=e.data[0]),this.$q.loading.hide()}))},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.mails=this.mails2.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.mails=this.mails2})}}};var ta=o(7030);ea.render=Xo,ea.__scopeId="data-v-49604eee";const oa=ea;Q()(ea,"components",{QPage:y.Z,QForm:$.Z,QInput:R.Z,QBtn:E.Z,QBanner:bt.Z,QChip:ta.Z,QBadge:pe.Z});const aa={class:"q-px-lg q-pt-xs q-mb-md"},la={class:"text-h5 text-bold"},ia=(0,i.Uk)(" SICIG "),sa=(0,i._)("div",{style:{"font-size":"14px"}},"Sistema de Informacion de Correspondencia Interna GAMO",-1),na={class:"text-subtitle1"},ra=(0,i._)("div",{class:"absolute-bottom bg-transparent"},[(0,i._)("div",{class:"text-weight-bold"},"Correspondencia "),(0,i._)("div",null,"Menu")],-1);function da(e,t,o,a,l,s){const n=(0,i.up)("q-btn"),r=(0,i.up)("q-toolbar-title"),d=(0,i.up)("q-toolbar"),c=(0,i.up)("q-img"),u=(0,i.up)("q-header"),m=(0,i.up)("q-list"),p=(0,i.up)("q-scroll-area"),h=(0,i.up)("q-drawer"),f=(0,i.up)("router-view"),w=(0,i.up)("q-page-container"),g=(0,i.up)("q-layout");return(0,i.wg)(),(0,i.j4)(g,{view:"lHh Lpr lFf"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{elevated:""},{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(n,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:s.toggleLeftDrawer},null,8,["onClick"]),(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.$store.state.login.user.name),1)])),_:1}),(0,i._)("div",null,[e.$store.getters["login/isLoggedIn"]?((0,i.wg)(),(0,i.j4)(n,{key:0,label:"Salir",onClick:s.logout,color:"negative",icon:"logout",size:"xs"},null,8,["onClick"])):(0,i.kq)("",!0)])])),_:1}),(0,i._)("div",aa,[(0,i._)("div",la,[e.$store.getters["login/isLoggedIn"]?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)(" Unidad: "+(0,F.zw)(e.$store.state.login.user.unit.nombre),1)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[ia,sa],64))]),(0,i._)("div",na,(0,F.zw)(l.now),1)]),(0,i.Wm)(c,{src:"img/fondo.jpg",class:"header-image absolute-top"})])),_:1}),(0,i.Wm)(h,{modelValue:l.leftDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=e=>l.leftDrawerOpen=e),"show-if-above":"",width:250,breakpoint:600},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{style:{height:"calc(100% - 130px)","margin-top":"130px","border-right":"1px solid #ddd"}},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{padding:""})])),_:1}),(0,i.Wm)(c,{class:"absolute-top",src:"img/fondo.jpg",style:{height:"130px"}},{default:(0,i.w5)((()=>[ra])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(f)])),_:1})])),_:1})}const ca={data(){return{leftDrawerOpen:!1,now:ne.ZP.formatDate(Date.now(),"dddd D  MMMM",{days:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],daysShort:["Dum","Lun"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ian","Feb"]}),unidad:"aa"}},created(){},methods:{toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen},logout(){this.$q.loading.show(),this.$store.dispatch("login/logout").then((()=>{this.$q.loading.hide(),this.$router.push("/")}))}}};ca.render=da;const ua=ca;Q()(ca,"components",{QLayout:bo.Z,QHeader:_o.Z,QToolbar:vo.Z,QBtn:E.Z,QToolbarTitle:xo.Z,QImg:Wo.Z,QDrawer:qo.Z,QScrollArea:ko.Z,QList:yo.Z,QItem:ge.Z,QItemSection:be.Z,QIcon:O.Z,QItemLabel:Vo.Z,QAvatar:Qe.Z,QPageContainer:So.Z});const ma={class:"row"},pa={class:"col-12"},ha={class:"row"},fa={class:"col-4"},wa={class:"col-4"},ga={class:"col-4 flex"},ba={class:"col-12"},_a={class:""},va={class:"text-h4 text-bold"},xa={class:""},Wa={class:""},qa={class:""};function ka(e,t,o,l,s,n){const r=(0,i.up)("q-input"),d=(0,i.up)("q-btn"),c=(0,i.up)("q-form"),u=(0,i.up)("q-td"),m=(0,i.up)("q-icon"),p=(0,i.up)("q-table"),h=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(h,{class:"q-pa-xs"},{default:(0,i.w5)((()=>[(0,i._)("div",ma,[(0,i._)("div",pa,[(0,i.Wm)(c,{onSubmit:(0,a.iM)(n.consulta,["prevent"])},{default:(0,i.w5)((()=>[(0,i._)("div",ha,[(0,i._)("div",fa,[(0,i.Wm)(r,{dense:"",outlined:"",modelValue:s.fecha1,"onUpdate:modelValue":t[0]||(t[0]=e=>s.fecha1=e),type:"date",label:"fecha inicio"},null,8,["modelValue"])]),(0,i._)("div",wa,[(0,i.Wm)(r,{dense:"",outlined:"",modelValue:s.fecha2,"onUpdate:modelValue":t[1]||(t[1]=e=>s.fecha2=e),type:"date",label:"fecha fin"},null,8,["modelValue"])]),(0,i._)("div",ga,[(0,i.Wm)(d,{type:"submit",class:"full-width",label:"consulta",color:"primary",icon:"search"})])])])),_:1},8,["onSubmit"])]),(0,i._)("div",ba,[(0,i.Wm)(p,{filter:s.filter,dense:"",square:"",bordered:"",flat:"",title:"Historial de correspondencia","rows-per-page-options":[0],columns:s.columns,rows:s.datos},{"body-cell-citecontrol":(0,i.w5)((e=>[(0,i.Wm)(u,{"auto-width":"",props:e},{default:(0,i.w5)((()=>[(0,i._)("div",_a,(0,F.zw)(e.row.fecha),1),(0,i._)("div",va,(0,F.zw)(e.row.citecontrol),1)])),_:2},1032,["props"])])),"body-cell-datos":(0,i.w5)((e=>[(0,i.Wm)(u,{"auto-width":"",props:e},{default:(0,i.w5)((()=>[(0,i._)("div",xa,"DE: "+(0,F.zw)(e.row.remitente),1),(0,i._)("div",Wa,"A: "+(0,F.zw)(e.row.destinatario),1),(0,i._)("div",qa,"REF: "+(0,F.zw)(e.row.ref),1)])),_:2},1032,["props"])])),"top-right":(0,i.w5)((()=>[(0,i.Wm)(d,{onClick:n.impresion,icon:"print",label:"imprimir",color:"positive"},null,8,["onClick"]),(0,i.Wm)(r,{outlined:"",dense:"",modelValue:s.filter,"onUpdate:modelValue":t[2]||(t[2]=e=>s.filter=e),placeholder:"Buscar"},{append:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["filter","columns","rows"])])])])),_:1})}var ya=o(9587);o(7345);const Va={name:"Reportecorrespondencia",data(){return{filter:"",fecha1:ne.ZP.formatDate(new Date,"YYYY-MM-DD"),fecha2:ne.ZP.formatDate(new Date,"YYYY-MM-DD"),columns:[{name:"citecontrol",label:"citecontrol",field:"citecontrol",align:"center"},{name:"datos",label:"datos",field:"datos",align:"left"},{name:"sello",label:"sello",field:"sello"}],datos:[]}},created(){this.consulta()},mounted(){},methods:{consulta(){this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/reportecorrespondencia",{fecha1:this.fecha1,fecha2:this.fecha2}).then((e=>{this.datos=[],this.$q.loading.hide(),e.data.forEach((e=>{e.datos=e.destinatario+e.remitente+e.ref,this.datos.push(e)}))}))},impresion(){this.$q.loading.show();var e=new ya.kH;e.setFontSize(10),e.text("CITE ",18,17),e.text("CORRESPONDENCIA CREADA ",43,17),e.setFont("times","bold"),e.setDrawColor(122);let t=1,o=0;e.roundedRect(5,10,200,282,2,2,"S"),e.roundedRect(183,11,20,8,1,1,"S"),e.setTextColor(158,158,158),e.setFontSize(10),e.text("HOJA "+t,187,14),e.setFontSize(7),e.text("HOJA DE RUTA",184,17),e.setTextColor(0,0,0);let a=0;this.datos.forEach((l=>{o++,e.roundedRect(8,20+34*a,194,34,0,0,"S"),e.line(40,20+34*a,40,54+34*a),e.setFontSize(12),e.setFont("times","bold"),e.text(l.fecha.toString(),23,25+34*a,"center"),e.setFont("times","normal"),e.setFontSize(15),e.text(l.citecontrol.toString(),23,38+34*a,"center"),e.setFontSize(10),e.text("De: "+l.remitente,41,25+34*a,"left"),e.text("A: "+l.destinatario,41,30+34*a,"left"),e.text("REF: "+l.ref.substr(0,50),41,35+34*a,"left"),e.text(l.ref.substr(50,50),41,40+34*a,"left"),e.text(l.ref.substr(100,50),41,45+34*a,"left"),e.text(l.ref.substr(150,50),41,50+34*a,"left"),e.setFontSize(10),a++,8==o&&(a=0,o=0,t++,e.addPage(),e.roundedRect(5,10,200,282,2,2,"S"),e.roundedRect(183,11,20,8,1,1,"S"),e.setTextColor(158,158,158),e.setFont("times","bold"),e.setFontSize(10),e.text("HOJA "+t,187,14),e.setFontSize(7),e.text("HOJA DE RUTA",184,17),e.setTextColor(0,0,0),e.setFont("times","normal"))})),window.open(e.output("bloburl"),"_blank"),this.$q.loading.hide()}}};Va.render=ka;const Da=Va;Q()(Va,"components",{QPage:y.Z,QForm:$.Z,QInput:R.Z,QBtn:E.Z,QTable:ce.Z,QTd:me.Z,QIcon:O.Z});const Sa={class:"row"},Ua={class:"col-12"},Ca={class:"row"},Za={class:"col-3"},$a={class:"col-3"},Ra={class:"col-3"},Oa={class:"col-3 flex"},Ea={class:"col-12"},za={class:""},Ia={class:""},Qa={class:"text-h4 text-bold"},Aa={class:""},Fa={class:""},Pa={class:""},Ta={style:{width:"600px"}},Ma={class:""},Ya={class:"text-h6"},ja=(0,i.Uk)("ELIJA LA POSICION PARA IMPRIMIR"),Na=(0,i.Uk)("1"),La=(0,i.Uk)("2"),Ha=(0,i.Uk)("3"),Ba=(0,i.Uk)("4"),Ja=(0,i.Uk)("5"),Ka=(0,i.Uk)("6"),Ga=(0,i.Uk)("7");function Xa(e,t,o,l,s,n){const r=(0,i.up)("q-input"),d=(0,i.up)("q-icon"),c=(0,i.up)("q-select"),u=(0,i.up)("q-btn"),m=(0,i.up)("q-form"),p=(0,i.up)("q-td"),h=(0,i.up)("q-badge"),f=(0,i.up)("q-table"),w=(0,i.up)("q-card-section"),g=(0,i.up)("q-item-label"),b=(0,i.up)("q-item-section"),_=(0,i.up)("q-item"),v=(0,i.up)("q-list"),x=(0,i.up)("q-card"),W=(0,i.up)("q-dialog"),q=(0,i.up)("q-page"),k=(0,i.Q2)("ripple"),y=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(q,{class:"q-pa-xs"},{default:(0,i.w5)((()=>[(0,i._)("div",Sa,[(0,i._)("div",Ua,[(0,i.Wm)(m,{onSubmit:(0,a.iM)(n.consulta,["prevent"])},{default:(0,i.w5)((()=>[(0,i._)("div",Ca,[(0,i._)("div",Za,[(0,i.Wm)(r,{dense:"",outlined:"",modelValue:s.fecha1,"onUpdate:modelValue":t[0]||(t[0]=e=>s.fecha1=e),type:"date",label:"fecha inicio"},null,8,["modelValue"])]),(0,i._)("div",$a,[(0,i.Wm)(r,{dense:"",outlined:"",modelValue:s.fecha2,"onUpdate:modelValue":t[1]||(t[1]=e=>s.fecha2=e),type:"date",label:"fecha fin"},null,8,["modelValue"])]),(0,i._)("div",Ra,[(0,i.Wm)(c,{outlined:"",modelValue:s.tipodoc,"onUpdate:modelValue":t[2]||(t[2]=e=>s.tipodoc=e),label:"Tipo documento",options:s.optionstipodocs,style:{"max-width":"200px"},dense:"","options-dense":""},{prepend:(0,i.w5)((()=>[(0,i.Wm)(d,{name:"note_add"})])),_:1},8,["modelValue","options"])]),(0,i._)("div",Oa,[(0,i.Wm)(u,{dense:"",type:"submit",class:"full-width",label:"consulta",color:"primary",icon:"search"})])])])),_:1},8,["onSubmit"])]),(0,i._)("div",Ea,[(0,i.Wm)(f,{filter:s.filter,dense:"",square:"",bordered:"",flat:"",title:"Historial de correspondencia","rows-per-page-options":[0],columns:s.columns,rows:s.datos},{"body-cell-citecontrol":(0,i.w5)((e=>[(0,i.Wm)(p,{"auto-width":"",props:e},{default:(0,i.w5)((()=>[(0,i._)("div",za,(0,F.zw)(e.row.fecha),1),(0,i._)("div",Ia,(0,F.zw)(e.row.hora),1),(0,i._)("div",Qa,(0,F.zw)(e.row.mail.citecontrol),1)])),_:2},1032,["props"])])),"body-cell-datos":(0,i.w5)((e=>[(0,i.Wm)(p,{"auto-width":"",props:e},{default:(0,i.w5)((()=>[(0,i._)("div",Aa,"DE: "+(0,F.zw)(null===e.row.user?"":e.row.user.name),1),(0,i._)("div",Fa,[(0,i.Uk)("A: "+(0,F.zw)(e.row.user2.name)+" | ",1),(0,i.Wm)(h,{color:"blue"},{default:(0,i.w5)((()=>[(0,i._)("div",Pa,(0,F.zw)(e.row.user2.unit.nombre),1)])),_:2},1024)]),(0,i._)("p",Ta,"REF: "+(0,F.zw)(e.row.mail.ref.substr(0,100)),1),(0,i._)("div",Ma,[null!=e.row.tipodoc||""!=e.row.tipodoc||void 0!=e.row.tipodoc?((0,i.wg)(),(0,i.j4)(h,{key:0,color:"NOTAS"===e.row.tipodoc?"teal-5":"amber-8"},{default:(0,i.w5)((()=>[(0,i.Uk)("Tipo: "+(0,F.zw)(e.row.tipodoc),1)])),_:2},1032,["color"])):(0,i.kq)("",!0),null!=e.row.nfojas?((0,i.wg)(),(0,i.j4)(h,{key:1,color:"green"},{default:(0,i.w5)((()=>[(0,i.Uk)("Num Fojas: "+(0,F.zw)(e.row.nfojas),1)])),_:2},1024)):(0,i.kq)("",!0)])])),_:2},1032,["props"])])),"body-cell-sello":(0,i.w5)((e=>[(0,i.Wm)(p,{"auto-width":"",props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{onClick:t[3]||(t[3]=e=>s.dialogimpresionindividual=!0),icon:"print",color:"info"})])),_:2},1032,["props"])])),"top-right":(0,i.w5)((()=>[(0,i.Wm)(u,{onClick:n.impresion,icon:"print",label:"imprimir",color:"positive"},null,8,["onClick"]),(0,i.Wm)(r,{outlined:"",dense:"",modelValue:s.filter,"onUpdate:modelValue":t[4]||(t[4]=e=>s.filter=e),placeholder:"Buscar"},{append:(0,i.w5)((()=>[(0,i.Wm)(d,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["filter","columns","rows"]),(0,i.Wm)(W,{modelValue:s.dialogimpresionindividual,"onUpdate:modelValue":t[5]||(t[5]=e=>s.dialogimpresionindividual=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{style:{width:"300px","min-width":"40vh"}},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i._)("div",Ya,[(0,i.Wm)(d,{name:"print"}),ja])])),_:1}),(0,i.Wm)(w,{class:"q-pt-none"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{bordered:"",separator:""},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(_,{clickable:""},{default:(0,i.w5)((()=>[(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"relative-position container bg-grey-3 text-black flex flex-center"},{default:(0,i.w5)((()=>[Na])),_:1})])),_:1})])),_:1},512),[[k]]),(0,i.wy)((0,i.Wm)(_,{clickable:""},{default:(0,i.w5)((()=>[(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"relative-position container bg-grey-3 text-black flex flex-center"},{default:(0,i.w5)((()=>[La])),_:1})])),_:1})])),_:1},512),[[k]]),(0,i.wy)((0,i.Wm)(_,{clickable:""},{default:(0,i.w5)((()=>[(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"relative-position container bg-grey-3 text-black flex flex-center"},{default:(0,i.w5)((()=>[Ha])),_:1})])),_:1})])),_:1},512),[[k]]),(0,i.wy)((0,i.Wm)(_,{clickable:""},{default:(0,i.w5)((()=>[(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"relative-position container bg-grey-3 text-black flex flex-center"},{default:(0,i.w5)((()=>[Ba])),_:1})])),_:1})])),_:1},512),[[k]]),(0,i.wy)((0,i.Wm)(_,{clickable:""},{default:(0,i.w5)((()=>[(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"relative-position container bg-grey-3 text-black flex flex-center"},{default:(0,i.w5)((()=>[Ja])),_:1})])),_:1})])),_:1},512),[[k]]),(0,i.wy)((0,i.Wm)(_,{clickable:""},{default:(0,i.w5)((()=>[(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"relative-position container bg-grey-3 text-black flex flex-center"},{default:(0,i.w5)((()=>[Ka])),_:1})])),_:1})])),_:1},512),[[k]]),(0,i.wy)((0,i.Wm)(_,{clickable:""},{default:(0,i.w5)((()=>[(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"relative-position container bg-grey-3 text-black flex flex-center"},{default:(0,i.w5)((()=>[Ga])),_:1})])),_:1})])),_:1},512),[[k]])])),_:1})])),_:1}),(0,i.Wm)(w,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(u,{flat:"",label:"Cancelar",color:"primary",icon:"delete"},null,512),[[y]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])])),_:1})}const el={name:"Reportecorrespondencia",data(){return{filter:"",fecha1:ne.ZP.formatDate(new Date,"YYYY-MM-DD"),fecha2:ne.ZP.formatDate(new Date,"YYYY-MM-DD"),columns:[{name:"citecontrol",label:"citecontrol",field:"citecontrol",align:"center"},{name:"datos",label:"datos",field:"datos",align:"left"},{name:"sello",label:"Impresión individual",field:"sello"}],datos:[],optionstipodocs:["TODO","NOTAS","MEMORANDUM","HOJA DE RUTA"],tipodoc:"TODO",dialogimpresionindividual:!1}},created(){this.consulta()},mounted(){},methods:{consulta(){this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/reportecorrespondenciaremitida",{fecha1:this.fecha1,fecha2:this.fecha2,tipodoc:this.tipodoc}).then((e=>{this.datos=[],this.$q.loading.hide(),e.data.forEach((e=>{this.datos.push(e)})),console.log("datos: ",this.datos)}))},impresion(){this.$q.loading.show();var e=new ya.kH;e.setFont("times","bold"),e.setDrawColor(122);let t=1,o=0;e.roundedRect(5,10,200,282,2,2,"S"),e.roundedRect(183,11,20,8,1,1,"S"),e.setFontSize(10),e.text("CITE ",18,17),e.text("REMISIÓN ",43,17),e.text("RECEPCION ",172,17),e.setTextColor(158,158,158),e.setFontSize(10),e.text("HOJA "+t,187,14),e.setFontSize(7),e.text("HOJA DE RUTA",184,17),e.setTextColor(0,0,0);let a=0;this.datos.forEach((l=>{o++,e.roundedRect(8,20+34*a,194,34,0,0,"S"),e.line(40,20+34*a,40,54+34*a),e.line(160,20+34*a,160,54+34*a),e.setFontSize(10),e.setFont("times","normal"),e.text(l.fecha.toString(),23,25+34*a,"center"),e.text(l.hora.toString(),23,30+34*a,"center"),e.setFont("times","bold"),e.setFontSize(15),e.text(l.mail.citecontrol.toString(),23,38+34*a,"center"),e.setFontSize(10),e.setFont("times","bold"),e.text("DE: "+l.user.name,41,25+34*a,"left"),e.text("A: "+l.user2.name+" | ("+l.user2.unit.codigo+")",41,30+34*a,"left"),e.setFont("times","normal"),e.setFontSize(8),e.text("REF: "+l.mail.ref.substr(0,60),41,35+34*a,"left"),e.text(l.mail.ref.substr(60,60),41,38+34*a,"left"),e.text(l.mail.ref.substr(120,60),41,41+34*a,"left"),e.text(l.mail.ref.substr(180,60),41,44+34*a,"left"),e.text(l.mail.ref.substr(240,60),41,47+34*a,"left"),e.setFontSize(9),e.setFont("times","bold"),null==l.tipodoc&&""==l.tipodoc||e.text("TIPO: "+l.tipodoc,41,52+34*a,"left"),e.setFont("times","normal"),e.setFontSize(10),a++,8==o&&(a=0,o=0,t++,e.addPage(),e.roundedRect(5,10,200,282,2,2,"S"),e.roundedRect(183,11,20,8,1,1,"S"),e.setTextColor(158,158,158),e.setFont("times","bold"),e.setFontSize(10),e.text("HOJA "+t,187,14),e.setFontSize(7),e.text("HOJA DE RUTA",184,17),e.setTextColor(0,0,0),e.setFont("times","normal"))})),window.open(e.output("bloburl"),"_blank"),this.$q.loading.hide()},impresionporhoja(e){consoloe.log(e)}}};el.render=Xa;const tl=el;Q()(el,"components",{QPage:y.Z,QForm:$.Z,QInput:R.Z,QSelect:z.Z,QIcon:O.Z,QBtn:E.Z,QTable:ce.Z,QTd:me.Z,QBadge:pe.Z,QDialog:fe.Z,QCard:V.Z,QCardSection:we.Z,QList:yo.Z,QItem:ge.Z,QItemSection:be.Z,QItemLabel:Vo.Z}),Q()(el,"directives",{Ripple:Uo.Z,ClosePopup:ve.Z});const ol={class:"row"},al={class:"col-12"},ll={class:"row"},il={class:"col-4"},sl={class:"col-4"},nl={class:"col-4 flex"},rl={class:"col-12"},dl={class:""},cl={class:"",dense:""},ul={class:"text-h4 text-bold"},ml={class:""},pl={class:""},hl={class:""},fl={class:""};function wl(e,t,o,l,s,n){const r=(0,i.up)("q-input"),d=(0,i.up)("q-btn"),c=(0,i.up)("q-form"),u=(0,i.up)("q-td"),m=(0,i.up)("q-badge"),p=(0,i.up)("q-icon"),h=(0,i.up)("q-table"),f=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(f,{class:"q-pa-xs"},{default:(0,i.w5)((()=>[(0,i._)("div",ol,[(0,i._)("div",al,[(0,i.Wm)(c,{onSubmit:(0,a.iM)(n.consulta,["prevent"])},{default:(0,i.w5)((()=>[(0,i._)("div",ll,[(0,i._)("div",il,[(0,i.Wm)(r,{dense:"",outlined:"",modelValue:s.fecha1,"onUpdate:modelValue":t[0]||(t[0]=e=>s.fecha1=e),type:"date",label:"fecha inicio"},null,8,["modelValue"])]),(0,i._)("div",sl,[(0,i.Wm)(r,{dense:"",outlined:"",modelValue:s.fecha2,"onUpdate:modelValue":t[1]||(t[1]=e=>s.fecha2=e),type:"date",label:"fecha fin"},null,8,["modelValue"])]),(0,i._)("div",nl,[(0,i.Wm)(d,{type:"submit",class:"full-width",label:"consulta",color:"primary",icon:"search"})])])])),_:1},8,["onSubmit"])]),(0,i._)("div",rl,[(0,i.Wm)(h,{filter:s.filter,dense:"",square:"",bordered:"",flat:"",title:"Historial de correspondencia","rows-per-page-options":[0],columns:s.columns,rows:s.datos},{"body-cell-citecontrol":(0,i.w5)((e=>[(0,i.Wm)(u,{"auto-width":"",props:e},{default:(0,i.w5)((()=>[(0,i._)("div",dl,(0,F.zw)(e.row.fecha),1),(0,i._)("div",cl,(0,F.zw)(e.row.hora),1),(0,i._)("div",ul,(0,F.zw)(e.row.mail.citecontrol),1)])),_:2},1032,["props"])])),"body-cell-datos":(0,i.w5)((e=>[(0,i.Wm)(u,{"auto-width":"",props:e},{default:(0,i.w5)((()=>[(0,i._)("div",ml,[(0,i.Uk)("DE: "+(0,F.zw)(e.row.user.name)+" | ",1),(0,i.Wm)(m,{color:"blue"},{default:(0,i.w5)((()=>[(0,i._)("div",pl,(0,F.zw)(e.row.user.unit.nombre),1)])),_:2},1024)]),(0,i._)("div",hl,"A: "+(0,F.zw)(e.row.user2.name),1),(0,i._)("div",fl,"REF: "+(0,F.zw)(e.row.mail.ref),1)])),_:2},1032,["props"])])),"top-right":(0,i.w5)((()=>[(0,i.Wm)(d,{onClick:n.impresion,icon:"print",label:"imprimir",color:"positive"},null,8,["onClick"]),(0,i.Wm)(r,{outlined:"",dense:"",modelValue:s.filter,"onUpdate:modelValue":t[2]||(t[2]=e=>s.filter=e),placeholder:"Buscar"},{append:(0,i.w5)((()=>[(0,i.Wm)(p,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["filter","columns","rows"])])])])),_:1})}const gl={name:"Reportecorrespondencia",data(){return{filter:"",fecha1:ne.ZP.formatDate(new Date,"YYYY-MM-DD"),fecha2:ne.ZP.formatDate(new Date,"YYYY-MM-DD"),columns:[{name:"citecontrol",label:"citecontrol",field:"citecontrol",align:"center"},{name:"datos",label:"datos",field:"datos",align:"left"},{name:"sello",label:"sello",field:"sello"}],datos:[]}},created(){this.consulta()},mounted(){},methods:{consulta(){this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/reportecorrespondenciarecibida",{fecha1:this.fecha1,fecha2:this.fecha2}).then((e=>{this.datos=[],this.$q.loading.hide(),e.data.forEach((e=>{e.datos=e.destinatario+e.remitente+e.ref,this.datos.push(e)})),console.log("datos: ",this.datos)}))},impresion(){this.$q.loading.show();var e=new ya.kH;e.setFont("times","bold"),e.setDrawColor(122);let t=1,o=0;e.roundedRect(5,10,200,282,2,2,"S"),e.roundedRect(183,11,20,8,1,1,"S"),e.setFontSize(10),e.text("CITE ",18,17),e.text("CODIGO ",52,17),e.text("PROCEDENCIA Y REFERENCIA ",93,17),e.setTextColor(158,158,158),e.setFontSize(10),e.text("HOJA "+t,187,14),e.setFontSize(7),e.text("HOJA DE RUTA",184,17),e.setTextColor(0,0,0);let a=0;this.datos.forEach((l=>{o++,e.roundedRect(8,20+34*a,194,34,0,0,"S"),e.line(40,20+34*a,40,54+34*a),e.line(80,20+34*a,80,54+34*a),e.setFontSize(12),e.setFont("times","normal"),e.text(l.mail.fecha.toString(),23,25+34*a,"center"),e.text(l.mail.hora.toString(),23,30+34*a,"center"),e.setFontSize(15),e.setFont("times","bold"),e.text(l.mail.citecontrol.toString(),23,38+34*a,"center"),e.text(l.mail.codigo.toString(),58,38+34*a,"center"),e.setFont("times","normal"),e.setFontSize(10),e.setFont("times","bold"),e.text("DE: "+l.user.name,82,25+34*a,"left"),e.text("UNIDAD: "+l.user.unit.nombre,82,30+34*a,"left"),e.setFont("times","normal"),e.text("REF: "+l.mail.ref.substr(0,50),82,35+34*a,"left"),e.text(l.mail.ref.substr(50,50),82,40+34*a,"left"),e.text(l.mail.ref.substr(100,50),82,45+34*a,"left"),e.text(l.mail.ref.substr(150,50),82,50+34*a,"left"),e.setFontSize(10),a++,8==o&&(a=0,o=0,t++,e.addPage(),e.roundedRect(5,10,200,282,2,2,"S"),e.roundedRect(183,11,20,8,1,1,"S"),e.setTextColor(158,158,158),e.setFont("times","bold"),e.setFontSize(10),e.text("HOJA "+t,187,14),e.setFontSize(7),e.text("HOJA DE RUTA",184,17),e.setTextColor(0,0,0),e.setFont("times","normal"))})),window.open(e.output("bloburl"),"_blank"),this.$q.loading.hide()}}};gl.render=wl;const bl=gl;Q()(gl,"components",{QPage:y.Z,QForm:$.Z,QInput:R.Z,QBtn:E.Z,QTable:ce.Z,QTd:me.Z,QBadge:pe.Z,QIcon:O.Z});const _l={class:"row"},vl={class:"col-12"},xl={class:"row"},Wl={class:"col-12 flex"},ql={class:"col-12"},kl={class:"text-h6 text-bold"},yl={class:"text-h6 text-bold"},Vl={class:""},Dl={class:""},Sl={class:""},Ul={class:""},Cl=(0,i.Uk)("ESTADO: "),Zl={key:0,class:""},$l={key:1,class:""};function Rl(e,t,o,l,s,n){const r=(0,i.up)("q-btn"),d=(0,i.up)("q-form"),c=(0,i.up)("q-td"),u=(0,i.up)("q-badge"),m=(0,i.up)("q-icon"),p=(0,i.up)("q-input"),h=(0,i.up)("q-table"),f=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(f,{class:"q-pa-xs"},{default:(0,i.w5)((()=>[(0,i._)("div",_l,[(0,i._)("div",vl,[(0,i.Wm)(d,{onSubmit:(0,a.iM)(n.consulta,["prevent"])},{default:(0,i.w5)((()=>[(0,i._)("div",xl,[(0,i._)("div",Wl,[(0,i.Wm)(r,{type:"submit",class:"full-width",label:"consulta",color:"primary",icon:"search"})])])])),_:1},8,["onSubmit"])]),(0,i._)("div",ql,[(0,i.Wm)(h,{filter:s.filter,dense:"",square:"",bordered:"",flat:"",title:"Historial de correspondencia","rows-per-page-options":[10],columns:s.columns,rows:s.datos},{"body-cell-citecontrol":(0,i.w5)((e=>[(0,i.Wm)(c,{"auto-width":"",props:e},{default:(0,i.w5)((()=>[(0,i._)("div",kl,(0,F.zw)(e.row.mail.codigo),1),(0,i._)("div",yl,(0,F.zw)(e.row.mail.citecontrol),1)])),_:2},1032,["props"])])),"body-cell-datos":(0,i.w5)((e=>[(0,i.Wm)(c,{"auto-width":"",props:e},{default:(0,i.w5)((()=>[(0,i._)("div",Vl,[(0,i.Uk)("DE: "+(0,F.zw)(e.row.user?e.row.user.name:"")+" | ",1),(0,i.Wm)(u,{color:"blue"},{default:(0,i.w5)((()=>[(0,i._)("div",Dl,(0,F.zw)(e.row.user?e.row.user.unit.nombre:"CREADO POR EL USUARIO"),1)])),_:2},1024)]),(0,i._)("div",Sl,"REF: "+(0,F.zw)(e.row.mail.ref),1),(0,i._)("div",Ul,[Cl,"ACEPTADO"==e.row.estado?((0,i.wg)(),(0,i.j4)(u,{key:0,color:"green"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.estado),1)])),_:2},1024)):(0,i.kq)("",!0),"EN PROCESO"==e.row.estado?((0,i.wg)(),(0,i.j4)(u,{key:1,color:"deep-orange-7"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,F.zw)(e.row.estado),1)])),_:2},1024)):(0,i.kq)("",!0)]),"ACEPTADO"==e.row.estado?((0,i.wg)(),(0,i.iD)("div",Zl,"ACEPTADO: "+(0,F.zw)(e.row.dias)+" ("+(0,F.zw)(new Date(e.row.updated_at).toISOString().slice(0,10).replace("T"," "))+")",1)):(0,i.kq)("",!0),"EN PROCESO"==e.row.estado?((0,i.wg)(),(0,i.iD)("div",$l,"REMITIDO: "+(0,F.zw)(e.row.dias)+" ("+(0,F.zw)(e.row.fecha)+") POR "+(0,F.zw)(e.row.user?e.row.user.name:"")+" ("+(0,F.zw)(e.row.user?e.row.user.unit.nombre:"CREADO POR EL USUARIO")+")",1)):(0,i.kq)("",!0)])),_:2},1032,["props"])])),"top-right":(0,i.w5)((()=>[(0,i.Wm)(r,{onClick:n.impresion,icon:"print",label:"imprimir",color:"positive"},null,8,["onClick"]),(0,i.Wm)(p,{outlined:"",dense:"",modelValue:s.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>s.filter=e),placeholder:"Buscar"},{append:(0,i.w5)((()=>[(0,i.Wm)(m,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["filter","columns","rows"])])])])),_:1})}var Ol=o(5416);const El={name:"Reportecorrespondenciapendiente",data(){return{filter:"",fecha1:ne.ZP.formatDate(new Date,"YYYY-MM-DD"),fecha2:ne.ZP.formatDate(new Date,"YYYY-MM-DD"),columns:[{name:"citecontrol",label:"citecontrol",field:"citecontrol",align:"center"},{name:"datos",label:"datos",field:"datos",align:"left"},{name:"sello",label:"sello",field:"sello"}],datos:[]}},created(){this.consulta()},mounted(){},methods:{consulta(){this.$q.loading.show(),(0,Ol.z2)("es_ES",((e,t,o)=>[["justo ahora","ahora mismo"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","in %s horas"],["hace 1 dia","en 1 dia"],["hace %s dias","en %s dias"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 año","en 1 año"],["hace %s años","en %s años"]][t])),this.$axios.post("https://back.gamo.cf/api/reportecorrespondenciapendiente",{fecha1:this.fecha1,fecha2:this.fecha2}).then((e=>{this.datos=[],this.$q.loading.hide(),e.data.forEach((e=>{e.datos=e.destinatario+e.remitente+e.ref,"ACEPTADO"==e.estado&&(e.dias=(0,Ol.WU)(e.updated_at,"es_ES")),"EN PROCESO"==e.estado&&(e.dias=(0,Ol.WU)(e.fecha+" "+e.hora,"es_ES")),this.datos.push(e)})),console.log("datos: ",this.datos)}))},impresion(){this.$q.loading.show();var e=new ya.kH;e.setFont("times","bold"),e.setDrawColor(122);let t=1,o=0,a=0,l="",i="",s="",n="";e.roundedRect(5,10,200,282,2,2,"S"),e.roundedRect(183,11,20,8,1,1,"S"),e.setFontSize(10),console.log("store",this.$store.state.login.user),e.text(this.$store.state.login.user.name+" - "+this.$store.state.login.user.unit.nombre,8,8),e.text("CITE/CODIGO ",12,17),e.text("CORRESPONDENCIA PENDIENTE",52,17),e.setTextColor(158,158,158),e.setFontSize(10),e.text("HOJA "+t,187,14),e.setFontSize(7),e.text("REPORTE",187,17),e.setTextColor(0,0,0);let r=0;this.datos.forEach((d=>{o++,a++,e.roundedRect(8,20+34*r,194,34,0,0,"S"),e.line(40,20+34*r,40,54+34*r),e.setFontSize(12),e.setFont("times","normal"),e.setFontSize(13),e.setFont("times","bold"),e.roundedRect(9,21+34*r,8,8,1,1,"S"),e.text(a.toString(),13,27+34*r,"center"),e.text(d.mail.citecontrol.toString(),23,38+34*r,"center"),e.text(d.mail.codigo.toString(),23,45+34*r,"center"),e.setFont("times","normal"),e.setFontSize(10),l=null===d.user?"CREADO POR EL USUARIO":d.user.name,e.text("DE: "+l,42,25+34*r,"left"),i=null===d.user?d.user2.unit.nombre:d.user.unit.nombre,e.text("UNIDAD: "+i,42,30+34*r,"left"),e.text("ESTADO: ",42,35+34*r,"left"),"ACEPTADO"==d.estado&&(e.setTextColor(0,0,255),e.text(d.estado,58,35+34*r,"left"),s=new Date(d.updated_at).toISOString().slice(0,10).replace("T"," "),e.roundedRect(144,21+34*r,57,6,1,1,"S"),e.text("Aceptado "+d.dias+" ("+s+")",145,25+34*r,"left")),"EN PROCESO"==d.estado&&(e.setTextColor(255,0,0),e.text(d.estado,58,35+34*r,"left"),e.roundedRect(144,21+34*r,57,6,1,1,"S"),e.text("Remitido "+d.dias+" ("+d.fecha+")",145,25+34*r,"left")),e.setTextColor(0,0,0),e.setFont("times","normal"),n=e.splitTextToSize("REF: "+d.mail.ref.substr(0,300),155),e.text(n,42,40+34*r,"left"),e.setFontSize(10),r++,8==o&&(r=0,o=0,t++,e.addPage(),e.roundedRect(5,10,200,282,2,2,"S"),e.roundedRect(183,11,20,8,1,1,"S"),e.setTextColor(158,158,158),e.setFont("times","bold"),e.setFontSize(10),e.text("HOJA "+t,187,14),e.setFontSize(7),e.text("REPORTE",187,17),e.setTextColor(0,0,0),e.setFont("times","normal"))})),window.open(e.output("bloburl"),"_blank"),this.$q.loading.hide()}}};El.render=Rl;const zl=El;Q()(El,"components",{QPage:y.Z,QForm:$.Z,QInput:R.Z,QBtn:E.Z,QTable:ce.Z,QTd:me.Z,QBadge:pe.Z,QIcon:O.Z});const Il=[{path:"/",component:Co,children:[{path:"",component:A},{path:"/recepcion",component:xe,meta:{requiresAuth:!0}},{path:"/user",component:Fe,meta:{requiresAuth:!0}},{path:"/seguimiento",component:_t,meta:{requiresAuth:!0}},{path:"/asignacion/:tipoasignacion",component:()=>Promise.all([o.e(736),o.e(337)]).then(o.bind(o,5685)),meta:{requiresAuth:!0},props:e=>{const{tipoasignacion:t}=e.params;return{tipoasignacion:t}}},{path:"/misrecepciones",component:It,meta:{requiresAuth:!0}},{path:"/reportecorrespondencia",component:Da,meta:{requiresAuth:!0}},{path:"/reportecorrespondenciaremitida",component:tl,meta:{requiresAuth:!0}},{path:"/reportecorrespondenciarecibida",component:bl,meta:{requiresAuth:!0}},{path:"/reportecorrespondenciapendiente",component:zl,meta:{requiresAuth:!0}}]},{path:"/consulta",component:ua,children:[{path:"",component:oa}]},{path:"/:catchAll(.*)*",component:()=>o.e(193).then(o.bind(o,2193))}],Ql=Il,Al=(0,c.BC)((function(){const e=u.r5,t=(0,u.p7)({scrollBehavior:()=>({left:0,top:0}),routes:Ql,history:e("")});return t.beforeEach(((e,t,o)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if((0,d["default"])().getters["login/isLoggedIn"])return void o();o("/")}else o()})),t}));async function Fl(e,t){const a="function"===typeof d["default"]?await(0,d["default"])({}):d["default"],{storeKey:i}=await Promise.resolve().then(o.bind(o,214)),s="function"===typeof Al?await Al({store:a}):Al;a.$router=s;const n=e(r);return n.use(l.Z,t),{app:n,store:a,storeKey:i,router:s}}var Pl=o(729),Tl=o(6249),Ml=o(4434),Yl=o(1509);const jl={config:{},lang:Pl.Z,plugins:{Loading:Tl.Z,Notify:Ml.Z,Dialog:Yl.Z}},Nl="";async function Ll({app:e,router:t,store:o,storeKey:a},l){let i=!1;const s=e=>{i=!0;const o=Object(e)===e?t.resolve(e).fullPath:e;window.location.href=o},n=window.location.href.replace(window.location.origin,"");for(let d=0;!1===i&&d<l.length;d++)try{await l[d]({app:e,router:t,store:o,ssrContext:null,redirect:s,urlPath:n,publicPath:Nl})}catch(r){return r&&r.url?void(window.location.href=r.url):void console.error("[Quasar] boot error:",r)}!0!==i&&(e.use(t),e.use(o,a),e.mount("#q-app"))}Fl(a.ri,jl).then((e=>Promise.all([Promise.resolve().then(o.bind(o,5474))]).then((t=>{const o=t.map((e=>e.default)).filter((e=>"function"===typeof e));Ll(e,o)}))))},5474:(e,t,o)=>{o.r(t),o.d(t,{default:()=>n,axios:()=>i.a,api:()=>s});var a=o(7083),l=o(52),i=o.n(l);const s=i().create({baseURL:"https://api.example.com"}),n=(0,a.xr)((({app:e,router:t,store:o})=>{e.config.globalProperties.$axios=i();const a=localStorage.getItem("tokencorre");a&&(e.config.globalProperties.$axios.defaults.headers.common["Authorization"]="Bearer "+a,e.config.globalProperties.$axios.post("https://back.gamo.cf/api/me").then((e=>{o.commit("login/auth_success",{token:a,user:e.data})})).catch((e=>{o.commit("login/salir"),localStorage.removeItem("tokencorre")}))),e.config.globalProperties.$api=s}))},214:(e,t,o)=>{o.r(t),o.d(t,{default:()=>W});var a={};o.r(a),o.d(a,{authStatus:()=>c,isLoggedIn:()=>d,unit:()=>m,user:()=>u});var l={};o.r(l),o.d(l,{auth_error:()=>f,auth_request:()=>p,auth_success:()=>h,salir:()=>w});var i={};o.r(i),o.d(i,{login:()=>b,logout:()=>v,register:()=>_});var s=o(7083),n=o(3617);function r(){return{status:"",token:localStorage.getItem("tokencorre")||"",user:{unit:{}},pedido:[],boolusuarios:!1,boolrecepcion:!1,boolseguimiento:!1,booldesignacion:!1,boolmisrecepciones:!1}}function d(e){return!!e.token}function c(e){return e.status}function u(e){return e.user}function m(e){return e.user.unit}function p(e){e.status="loading"}function h(e,t){e.status="success",e.token=t.token,e.user=t.user,e.boolusuarios=void 0!=t.user.permisos.find((e=>1===e.id)),e.boolrecepcion=void 0!=t.user.permisos.find((e=>2===e.id)),e.booldesignacion=void 0!=t.user.permisos.find((e=>3===e.id)),e.boolseguimiento=void 0!=t.user.permisos.find((e=>4===e.id)),e.boolmisrecepciones=void 0!=t.user.permisos.find((e=>5===e.id))}function f(e){e.status="error"}function w(e){e.status="",e.token="",e.boolusuarios=!1,e.boolrecepcion=!1,e.boolseguimiento=!1,e.user={unit:{}},e.booldesignacion=!1,e.boolmisrecepciones=!1}var g=o(5474);function b({commit:e},t){return new Promise(((o,a)=>{e("auth_request"),g.axios.post("https://back.gamo.cf/api/login",t).then((t=>{const a=t.data.token,l=t.data.user;localStorage.setItem("tokencorre",a),g.axios.defaults.headers.common.Authorization="Bearer "+a,e("auth_success",{token:a,user:l}),o(t)})).catch((t=>{e("auth_error"),localStorage.removeItem("tokencorre"),a(t)}))}))}function _({commit:e},t){return new Promise(((o,a)=>{e("auth_request"),g.axios.post("https://back.gamo.cf/api/register",t).then((t=>{console.log(t.data);const a=t.data.token,l=t.data.user;localStorage.setItem("tokencorre",a),g.axios.defaults.headers.common.Authorization="Bearer "+a,e("auth_success",{token:a,user:l}),o(t)})).catch((t=>{e("auth_error"),localStorage.removeItem("tokencorre"),a(t)}))}))}function v({commit:e}){return new Promise(((t,o)=>{g.axios.post("https://back.gamo.cf/api/logout").then((o=>{e("salir"),localStorage.removeItem("tokencorre"),delete g.axios.defaults.headers.common.Authorization,t()})).catch((t=>{e("auth_error"),localStorage.removeItem("tokencorre"),o(t)}))}))}const x={namespaced:!0,state:r,getters:a,mutations:l,actions:i},W=(0,s.h)((function(){const e=(0,n.MT)({modules:{login:x},strict:!1});return e}))}},t={};function o(a){var l=t[a];if(void 0!==l)return l.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,o),i.exports}o.m=e,(()=>{var e=[];o.O=(t,a,l,i)=>{if(!a){var s=1/0;for(c=0;c<e.length;c++){for(var[a,l,i]=e[c],n=!0,r=0;r<a.length;r++)(!1&i||s>=i)&&Object.keys(o.O).every((e=>o.O[e](a[r])))?a.splice(r--,1):(n=!1,i<s&&(s=i));if(n){e.splice(c--,1);var d=l();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,l,i]}})(),(()=>{o.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return o.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;o.t=function(a,l){if(1&l&&(a=this(a)),8&l)return a;if("object"===typeof a&&a){if(4&l&&a.__esModule)return a;if(16&l&&"function"===typeof a.then)return a}var i=Object.create(null);o.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var n=2&l&&a;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((e=>s[e]=()=>a[e]));return s["default"]=()=>a,o.d(i,s),i}})(),(()=>{o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,a)=>(o.f[a](e,t),t)),[]))})(),(()=>{o.u=e=>"js/"+(337===e?"misasignaciones":e)+"."+{193:"59b0a43a",337:"953ac55e"}[e]+".js"})(),(()=>{o.miniCssF=e=>"css/"+{143:"app",736:"vendor"}[e]+"."+{143:"c4ccfd67",736:"43e809e8"}[e]+".css"})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="correspondecia:";o.l=(a,l,i,s)=>{if(e[a])e[a].push(l);else{var n,r;if(void 0!==i)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+i){n=u;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,o.nc&&n.setAttribute("nonce",o.nc),n.setAttribute("data-webpack",t+i),n.src=a),e[a]=[l];var m=(t,o)=>{n.onerror=n.onload=null,clearTimeout(p);var l=e[a];if(delete e[a],n.parentNode&&n.parentNode.removeChild(n),l&&l.forEach((e=>e(o))),t)return t(o)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),r&&document.head.appendChild(n)}}})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.p=""})(),(()=>{var e={143:0};o.f.j=(t,a)=>{var l=o.o(e,t)?e[t]:void 0;if(0!==l)if(l)a.push(l[2]);else{var i=new Promise(((o,a)=>l=e[t]=[o,a]));a.push(l[2]=i);var s=o.p+o.u(t),n=new Error,r=a=>{if(o.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var i=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;n.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",n.name="ChunkLoadError",n.type=i,n.request=s,l[1](n)}};o.l(s,r,"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,a)=>{var l,i,[s,n,r]=a,d=0;if(s.some((t=>0!==e[t]))){for(l in n)o.o(n,l)&&(o.m[l]=n[l]);if(r)var c=r(o)}for(t&&t(a);d<s.length;d++)i=s[d],o.o(e,i)&&e[i]&&e[i][0](),e[s[d]]=0;return o.O(c)},a=self["webpackChunkcorrespondecia"]=self["webpackChunkcorrespondecia"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=o.O(void 0,[736],(()=>o(9911)));a=o.O(a)})();